import{r as e,R as l}from"./index-2c36b58a.js";import{c as k}from"./index-eb73e870.js";import{g as D}from"./attributes-9cbf7bc1.js";import{c as S}from"./internal-1d1af924.js";function w({mountContent:t,unmountContent:n,context:o}){const r=e.useRef(null);return e.useEffect(()=>{const c=r.current;return t(c,o),()=>{n(c)}},[]),l.createElement("div",{ref:r})}function x(t,n){return t?l.createElement(w,{key:t.id+"-"+n.type,context:n,mountContent:t.mountContent,unmountContent:t.unmountContent}):null}function M(t){return function(o){const[r,c]=e.useState([]),s=e.useRef(null),a=e.useRef(null);return e.useEffect(()=>t(m=>{c(m.map(f=>x(f,{type:o,headerRef:s,contentRef:a})))}),[o]),{discoveredActions:r,headerRef:s,contentRef:a}}}function U(t,n){return function({type:r,header:c,children:s}){const a=e.useRef(null),m=e.useRef(null),f=e.useRef(null),p=e.useRef(null),[H,E]=e.useState(()=>n.initialCheck({type:r,header:c,content:s})),[g,R]=e.useState("original"),[h,C]=e.useState("original"),v=e.useRef();return e.useEffect(()=>{const d={type:r,headerRef:a,contentRef:m};return E(!1),n.onContentRegistered(_=>{let A=!0;function i(u){return A?!0:(console.warn(`[AwsUi] [Runtime ${t} content] \`${u}\` called after component unmounted`),!1)}return v.current=_.runReplacer(d,{hideHeader(){i("hideHeader")&&R("remove")},restoreHeader(){i("restoreHeader")&&R("original")},replaceHeader(u){i("replaceHeader")&&(u(f.current),R("replaced"))},hideContent(){i("hideContent")&&C("remove")},restoreContent(){i("restoreContent")&&C("original")},replaceContent(u){i("replaceContent")&&(u(p.current),C("replaced"))}}),()=>{var u;(u=v.current)===null||u===void 0||u.unmount({replacementHeaderContainer:f.current,replacementContentContainer:p.current}),A=!1}})},[r]),e.useEffect(()=>{var d;(d=v.current)===null||d===void 0||d.update()},[r,c,s]),{initialHidden:H,headerReplacementType:g,contentReplacementType:h,headerRef:a,replacementHeaderRef:f,contentRef:m,replacementContentRef:p}}}const B={root:"awsui_root_37gf8_14wux_9"};function y(t,n,o,r){return!n&&o&&(n=l.createElement("span",Object.assign({},D({action:"buttonClick"})),l.createElement(S,{className:t.actionButton,onClick:r,formAction:"none"},o))),n?l.createElement("div",{className:t.actionSlot},n):null}const W=({className:t,testUtilClasses:n,action:o,discoveredActions:r,buttonText:c,onButtonClick:s})=>{const a=y(n,o,c,s);return!a&&r.length===0?null:l.createElement("div",{className:k(B.root,t)},a,r)};export{W as A,U as a,M as c};
