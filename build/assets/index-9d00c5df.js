import{c as h,_ as q,e as L,b as M,d as H}from"./index-eb73e870.js";import{r as m,R as a}from"./index-2c36b58a.js";import{g as w}from"./attributes-9cbf7bc1.js";import{u as P}from"./feature-flags-b64d770b.js";import{i as C,b as R,f as j}from"./index-491afaa4.js";import{c as O}from"./index-9e4101f5.js";import{I as V}from"./internal-fb301464.js";import{I as S}from"./internal-3a10d728.js";import{I as T}from"./internal-67a4bdad.js";import{c as N}from"./check-safe-url-87d46dc3.js";import"./ResizeObserver-6fd345a6.js";function $(e,l){for(const t of e)if((t.type==="link"||t.type==="link-group"||t.type==="expandable-link-group")&&t.href===l||(t.type==="section"||t.type==="link-group"||t.type==="expandable-link-group")&&$(t.items,l))return!0;return!1}function I(e,l=new WeakMap,t=[]){return e.forEach(n=>{const s=t.slice();(n.type==="section"||n.type==="expandable-link-group")&&(l.set(n,t),s.unshift(n)),(n.type==="section"||n.type==="link-group"||n.type==="expandable-link-group")&&I(n.items,l,s)}),l}const E={"header-link-text":"awsui_header-link-text_eymn4_rug8v_5","link-text":"awsui_link-text_eymn4_rug8v_6"};const r={root:"awsui_root_l0dv0_1qapx_145",header:"awsui_header_l0dv0_1qapx_179","header-link":"awsui_header-link_l0dv0_1qapx_192","header-link--has-logo":"awsui_header-link--has-logo_l0dv0_1qapx_202","header-link-text":"awsui_header-link-text_l0dv0_1qapx_202","header-logo":"awsui_header-logo_l0dv0_1qapx_207","header-logo--stretched":"awsui_header-logo--stretched_l0dv0_1qapx_213","items-control":"awsui_items-control_l0dv0_1qapx_218","list-container":"awsui_list-container_l0dv0_1qapx_222","with-toolbar":"awsui_with-toolbar_l0dv0_1qapx_230","divider-header":"awsui_divider-header_l0dv0_1qapx_230",list:"awsui_list_l0dv0_1qapx_222","list-variant-root":"awsui_list-variant-root_l0dv0_1qapx_243","list-variant-root--first":"awsui_list-variant-root--first_l0dv0_1qapx_250","list-variant-expandable-link-group":"awsui_list-variant-expandable-link-group_l0dv0_1qapx_254","list-item":"awsui_list-item_l0dv0_1qapx_258",section:"awsui_section_l0dv0_1qapx_269","expandable-link-group":"awsui_expandable-link-group_l0dv0_1qapx_270","section--no-ident":"awsui_section--no-ident_l0dv0_1qapx_273","expandable-link-group--no-ident":"awsui_expandable-link-group--no-ident_l0dv0_1qapx_274",refresh:"awsui_refresh_l0dv0_1qapx_282","list-variant-section-group":"awsui_list-variant-section-group_l0dv0_1qapx_293","section-group":"awsui_section-group_l0dv0_1qapx_300","section-group-title":"awsui_section-group-title_l0dv0_1qapx_311",link:"awsui_link_l0dv0_1qapx_315","link-active":"awsui_link-active_l0dv0_1qapx_324",info:"awsui_info_l0dv0_1qapx_361","external-icon":"awsui_external-icon_l0dv0_1qapx_365",divider:"awsui_divider_l0dv0_1qapx_230","divider-default":"awsui_divider-default_l0dv0_1qapx_374"};function B({definition:e,activeHref:l,fireFollow:t}){N("SideNavigation",e.href);const n=m.useCallback(u=>{C(u)&&t(e,u)},[t,e]),s={action:"click",detail:{label:`.${E["header-link-text"]}`,external:"false",href:e.href,position:"header"}};return a.createElement(a.Fragment,null,a.createElement("h2",{className:r.header},a.createElement("a",Object.assign({href:e.href,className:h(r["header-link"],{[r["header-link--has-logo"]]:!!e.logo}),"aria-current":e.href===l?"page":void 0,onClick:n},w(s)),e.logo&&a.createElement("img",Object.assign({className:h(r["header-logo"],{[r["header-logo--stretched"]]:!e.text})},e.logo)),a.createElement("span",{className:h(r["header-link-text"],E["header-link-text"])},e.text))),a.createElement(A,{isPresentational:!0,variant:"header"}))}function b({items:e,variant:l,activeHref:t,fireChange:n,fireFollow:s,position:u=""}){const i=[];let d=0;return i[d]={listVariant:l,items:[]},e.forEach((o,c)=>{var p,g,k,_,x;const v=c+1,f=`${u?`${u},`:""}${v}`;switch(o.type){case"divider":{const F=i.length;i[F]={element:a.createElement("div",{"data-itemid":`item-${v}`},a.createElement(A,{variant:"default"}))},d=i.length,i[d]={listVariant:l,items:[]};return}case"link":{(p=i[d].items)===null||p===void 0||p.push({element:a.createElement("li",{key:c,"data-itemid":`item-${v}`,className:r["list-item"]},a.createElement(y,{definition:o,activeHref:t,fireChange:n,fireFollow:s,position:f}))});return}case"section":{(g=i[d].items)===null||g===void 0||g.push({element:a.createElement("li",{key:c,"data-itemid":`item-${v}`,className:r["list-item"]},a.createElement(G,{definition:o,activeHref:t,variant:l,fireChange:n,fireFollow:s,position:f}))});return}case"section-group":{(k=i[d].items)===null||k===void 0||k.push({element:a.createElement("li",{key:c,"data-itemid":`item-${v}`,className:r["list-item"]},a.createElement(W,{definition:o,activeHref:t,fireChange:n,fireFollow:s,position:f}))});return}case"link-group":{(_=i[d].items)===null||_===void 0||_.push({element:a.createElement("li",{key:c,"data-itemid":`item-${v}`,className:r["list-item"]},a.createElement(z,{definition:o,activeHref:t,fireChange:n,fireFollow:s,position:f}))});return}case"expandable-link-group":{(x=i[d].items)===null||x===void 0||x.push({element:a.createElement("li",{key:c,"data-itemid":`item-${v}`,className:r["list-item"]},a.createElement(D,{definition:o,activeHref:t,fireChange:n,fireFollow:s,variant:l,position:f}))});return}}}),a.createElement(a.Fragment,null,i.map((o,c)=>!o.items||o.items.length===0?a.createElement("div",{key:`hr-${c}`,className:h(r.list,r[`list-variant-${l}`],{[r["list-variant-root--first"]]:o.listVariant==="root"&&c===0})},o.element):a.createElement("ul",{key:`list-${c}`,className:h(r.list,r[`list-variant-${o.listVariant}`],{[r["list-variant-root--first"]]:o.listVariant==="root"&&c===0})},o.items.map(p=>p.element))))}function A({variant:e="default",isPresentational:l=!1}){return a.createElement("hr",{className:h(r.divider,r[`divider-${e}`]),role:l?"presentation":void 0})}function y({definition:e,expanded:l,activeHref:t,fireFollow:n,position:s}){N("SideNavigation",e.href);const u=e.href===t,i=m.useCallback(o=>{C(o)&&n(e,o)},[n,e]),d={action:"click",detail:{label:`.${E["link-text"]}`,external:`${!!e.external}`,href:e.href,position:s}};return a.createElement(a.Fragment,null,a.createElement("a",Object.assign({href:e.href,className:h(r.link,{[r["link-active"]]:u}),target:e.external?"_blank":void 0,rel:e.external?"noopener noreferrer":void 0,"aria-expanded":l,"aria-current":e.href===t?"page":void 0,onClick:i},w(d)),a.createElement("span",{className:E["link-text"]},e.text),e.external&&a.createElement("span",{"aria-label":e.externalIconAriaLabel,role:e.externalIconAriaLabel?"img":void 0},a.createElement(T,{name:"external",className:r["external-icon"]}))),e.info&&a.createElement("span",{className:r.info},e.info))}function G({definition:e,activeHref:l,fireFollow:t,fireChange:n,variant:s,position:u}){var i;const[d,o]=m.useState((i=e.defaultExpanded)!==null&&i!==void 0?i:!0),c=m.useCallback(p=>{n(e,p.detail.expanded),o(p.detail.expanded)},[e,n]);return m.useEffect(()=>{var p;o((p=e.defaultExpanded)!==null&&p!==void 0?p:!0)},[e]),a.createElement(S,{variant:"footer",expanded:d,onChange:c,className:h(r.section,s==="section-group"&&r["section--no-ident"],r.refresh),headerText:e.text},a.createElement(b,{variant:"section",items:e.items,fireFollow:t,fireChange:n,activeHref:l,position:u}))}function W({definition:e,activeHref:l,fireFollow:t,fireChange:n,position:s}){return a.createElement("div",{className:r["section-group"]},a.createElement(V,{className:r["section-group-title"],variant:"h3"},e.title),a.createElement(b,{variant:"section-group",items:e.items,fireFollow:t,fireChange:n,activeHref:l,position:s}))}function z({definition:e,activeHref:l,fireFollow:t,fireChange:n,position:s}){return N("SideNavigation",e.href),a.createElement(a.Fragment,null,a.createElement(y,{definition:{type:"link",href:e.href,text:e.text,info:e.info},fireFollow:(u,i)=>t(e,i),fireChange:n,activeHref:l,position:s}),a.createElement(b,{variant:"link-group",items:e.items,fireFollow:t,fireChange:n,activeHref:l,position:s}))}function D({definition:e,fireFollow:l,fireChange:t,activeHref:n,variant:s,position:u}){const i=m.useMemo(()=>n?$(e.items,n):!1,[n,e.items]),[d,o]=m.useState(()=>{var _;return(_=e.defaultExpanded)!==null&&_!==void 0?_:e.href===n||i}),[c,p]=m.useState();m.useEffect(()=>p(void 0),[e]),m.useEffect(()=>{o(e.href===n||i)},[e.href,i,n]),m.useEffect(()=>{e.defaultExpanded!==void 0&&o(e.defaultExpanded)},[e]);const g=m.useCallback(_=>{t(e,_.detail.expanded),p(_.detail.expanded)},[e,t]),k=(_,x)=>{l(e,x),p(!0),d||t(e,!0)};return a.createElement(S,{className:h(r["expandable-link-group"],s==="section-group"&&r["expandable-link-group--no-ident"]),variant:"navigation",expanded:c??d,onChange:g,headerText:a.createElement(y,{definition:{type:"link",href:e.href,text:e.text},expanded:c??d,fireFollow:k,fireChange:t,activeHref:n,position:u})},a.createElement(b,{variant:"expandable-link-group",items:e.items,fireFollow:l,fireChange:t,activeHref:n,position:u}))}function U(e){var{header:l,itemsControl:t,activeHref:n,items:s=[],onFollow:u,onChange:i,__internalRootRef:d}=e,o=q(e,["header","itemsControl","activeHref","items","onFollow","onChange","__internalRootRef"]);const c=L(o),p=P(),g=m.useMemo(()=>I(s),[s]),k=m.useCallback((x,v)=>{R(i,{item:x,expanded:v,expandableParents:g.get(x)})},[i,g]),_=m.useCallback((x,v)=>{j(u,x,v)},[u]);return a.createElement("div",Object.assign({},c,{className:h(r.root,c.className,p&&r["with-toolbar"]),ref:d}),l&&a.createElement(B,{definition:l,activeHref:n,fireChange:k,fireFollow:_}),t&&a.createElement("div",{className:r["items-control"]},t),s&&a.createElement("div",{className:r["list-container"]},a.createElement(b,{variant:"root",items:s,fireFollow:_,fireChange:k,activeHref:n})))}const J=O(U),K=J();function Q(e){var{items:l=[]}=e,t=q(e,["items"]);const n=M("SideNavigation"),s={name:"awsui.SideNavigation",label:`.${E["header-link-text"]}`,properties:{activeHref:t.activeHref||""}};return a.createElement(K,Object.assign({},t,n,{items:l},w({component:s})))}H(Q,"SideNavigation");export{Q as S};
