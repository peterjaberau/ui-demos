import{r as d}from"./index-2c36b58a.js";import"./ResizeObserver-6fd345a6.js";const P="__awsuiMetadata__";function V(t,e,o){const n=d.useRef(null);return d.useEffect(()=>{if(n.current){const r=n.current,i={name:t,version:e};o&&Object.keys(o).length>0&&(i.analytics=o),Object.freeze(i),Object.defineProperty(r,P,{value:i,writable:!1,configurable:!0})}}),n}function a(t,e){return!t||t.length<=e}class x{sendMetric(e,o,n){if(!e||!/^[a-zA-Z0-9_-]+$/.test(e)){console.error(`Invalid metric name: ${e}`);return}if(!a(e,1e3)){console.error(`Metric name ${e} is too long`);return}if(!a(n,4e3)){console.error(`Detail for metric ${e} is too long: ${n}`);return}const r=this.findAWSC(window);typeof r=="object"&&typeof r.Clog=="object"&&typeof r.Clog.log=="function"?r.Clog.log(e,o,n):new b().sendMetric({eventName:e,eventDetail:n,eventValue:`${o}`,timestamp:Date.now()})}findAWSC(e){try{return typeof(e==null?void 0:e.AWSC)=="object"?e==null?void 0:e.AWSC:!e||e.parent===e?void 0:this.findAWSC(e.parent)}catch{return}}}class b{sendMetric(e){if(typeof e.eventDetail=="object"&&(e.eventDetail=JSON.stringify(e.eventDetail)),typeof e.eventValue=="object"&&(e.eventValue=JSON.stringify(e.eventValue)),!a(e.eventName,1e3)){console.error(`Event name for metric is too long: ${e.eventName}`);return}if(!a(e.eventDetail,4e3)){console.error(`Event detail for metric is too long: ${e.eventDetail}`);return}if(!a(e.eventValue,4e3)){console.error(`Event value for metric is too long: ${e.eventValue}`);return}if(!a(e.eventContext,4e3)){console.error(`Event context for metric is too long: ${e.eventContext}`);return}if(!a(e.eventType,50)){console.error(`Event type for metric is too long: ${e.eventType}`);return}const o=this.findPanorama(window);typeof o=="function"&&o("trackCustomEvent",Object.assign({timestamp:Date.now()},e))}findPanorama(e){try{return typeof(e==null?void 0:e.panorama)=="function"?e==null?void 0:e.panorama:!e||e.parent===e?void 0:this.findPanorama(e.parent)}catch{return}}}const T="react";function D({source:t,action:e,version:o,configuration:n},r){const c={o:typeof AWSUI_METRIC_ORIGIN<"u"?AWSUI_METRIC_ORIGIN:"main",s:t,t:r,a:e,f:T,v:I(o),c:n};return y(c)}function y(t){return JSON.stringify(t,$)}function $(t,e){return typeof e=="number"&&!Number.isFinite(e)?`${e}`:e}function k({source:t,version:e},o){return["awsui",t,`${R(o,e)}`].join("_")}function I(t){return t.replace(/\s/g,"")}function R(t,e){return`${t.charAt(0)}${L(e).replace(".","")}`}function L(t){const e=t.match(/^(\d+\.\d+)/);return e?e[1]:""}const u=new Set;let p="";function U(t){p=t}class N{constructor(e,o){this.clog=new x,this.panorama=new b,this.source=e,this.packageVersion=o}initMetrics(e){U(e)}sendMetric(e,o,n){if(!p){console.error("Metrics need to be initialized first.");return}this.clog.sendMetric(e,o,n)}sendPanoramaMetric(e){this.panorama.sendMetric(e)}sendMetricObject(e,o){this.sendMetric(k(e,p),o,D(e,p))}sendMetricObjectOnce(e,o){const n=y(e);u.has(n)||(this.sendMetricObject(e,o),u.add(n))}sendMetricOnce(e,o,n){u.has(e)||(this.sendMetric(e,o,n),u.add(e))}logComponentsLoaded(){this.sendMetricObjectOnce({source:this.source,action:"loaded",version:this.packageVersion},1)}logComponentUsed(e,o){this.sendMetricObjectOnce({source:e,action:"used",version:this.packageVersion,configuration:o},1)}}function F(t,{packageSource:e,packageVersion:o,theme:n},r={props:{}}){d.useEffect(()=>{const i=new N(e,o);i.initMetrics(n),typeof window<"u"&&(i.sendMetricOnce("awsui-viewport-width",window.innerWidth||0),i.sendMetricOnce("awsui-viewport-height",window.innerHeight||0)),i.logComponentsLoaded(),i.logComponentUsed(t.toLowerCase(),r)},[])}function G(t,e){typeof window<"u"&&(window.awsuiVersions||(window.awsuiVersions={}),window.awsuiVersions[t]||(window.awsuiVersions[t]=[]),window.awsuiVersions[t].push(e))}var f;(function(t){t[t.pageUp=33]="pageUp",t[t.pageDown=34]="pageDown",t[t.end=35]="end",t[t.home=36]="home",t[t.backspace=8]="backspace",t[t.space=32]="space",t[t.down=40]="down",t[t.left=37]="left",t[t.right=39]="right",t[t.up=38]="up",t[t.escape=27]="escape",t[t.enter=13]="enter",t[t.tab=9]="tab",t[t.shift=16]="shift",t[t.control=17]="control",t[t.alt=18]="alt",t[t.meta=91]="meta"})(f||(f={}));function z(t){return[f.shift,f.alt,f.control,f.meta].indexOf(t.keyCode)>-1}function O(t){t?document.body.setAttribute("data-awsui-focus-visible","true"):document.body.removeAttribute("data-awsui-focus-visible")}function _(){return O(!1)}function M(t){z(t)||O(!0)}let l=0;function J(){document.addEventListener("mousedown",_),document.addEventListener("keydown",M)}function B(){document.removeEventListener("mousedown",_),document.removeEventListener("keydown",M)}function C(){d.useEffect(()=>(l===0&&J(),l++,()=>{l--,l===0&&B()}),[])}function j(t){var e,o,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(o=j(t[e]))&&(n&&(n+=" "),n+=o);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function q(){for(var t,e,o=0,n="";o<arguments.length;)(t=arguments[o++])&&(e=j(t))&&(n&&(n+=" "),n+=e);return n}var g=function(t,e){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,n){o.__proto__=n}||function(o,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])},g(t,e)};function Q(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");g(t,e);function o(){this.constructor=t}t.prototype=e===null?Object.create(e):(o.prototype=e.prototype,new o)}var m=function(){return m=Object.assign||function(e){for(var o,n=1,r=arguments.length;n<r;n++){o=arguments[n];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},m.apply(this,arguments)};function X(t,e){var o={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(o[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(o[n[r]]=t[n[r]]);return o}function W(t,e,o,n){function r(i){return i instanceof o?i:new o(function(c){c(i)})}return new(o||(o=Promise))(function(i,c){function A(s){try{h(n.next(s))}catch(w){c(w)}}function S(s){try{h(n.throw(s))}catch(w){c(w)}}function h(s){s.done?i(s.value):r(s.value).then(A,S)}h((n=n.apply(t,e||[])).next())})}function K(t,e,o){if(o||arguments.length===2)for(var n=0,r=e.length,i;n<r;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function ee(t,e,o,n){if(o==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return o==="m"?n:o==="a"?n.call(t):n?n.value:e.get(t)}function te(t,e,o,n,r){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?r.call(t,o):r?r.value=o:e.set(t,o),o}var E="components",v="3.0.0 (0b55da66)";function H(t,e){F(t,{packageSource:E,packageVersion:v,theme:"vr"},e)}function ne(t,e,o){return H(t,e),C(),{__internalRootRef:V(t,v,Object.assign({},o))}}function oe(t,e){t.displayName=e}G(E,v);function re(t){const e={};return Object.keys(t).forEach(o=>{(o==="id"||o==="className"||o.match(/^data-/))&&(e[o]=t[o])}),e}function ie(t){return Object.assign(Object.assign({},t==null?void 0:t.analyticsMetadata),t==null?void 0:t.__analyticsMetadata)}export{N as M,v as P,X as _,V as a,ne as b,q as c,oe as d,re as e,W as f,ie as g,ee as h,G as i,te as j,z as k,m as l,Q as m,K as n,H as o,E as p,F as u};
