import{c as E,_ as ct}from"./index-eb73e870.js";import{R as r,r as a,a as Xt}from"./index-2c36b58a.js";import"./ResizeObserver-6fd345a6.js";import{g as Ct,a as Jt}from"./attributes-9cbf7bc1.js";import{u as At}from"./context-d1fbdd85.js";import{I as Rt}from"./internal-67a4bdad.js";import{u as vt,a as Qt,d as Zt}from"./use-funnel-f65631cb.js";import{i as te,a as ht}from"./selectors-2871d9bb.js";import{u as ee}from"./single-tab-stop-navigation-context-cd355dd7.js";import{i as ne,f as wt}from"./index-491afaa4.js";import{u as ie}from"./index-e97f25e5.js";import{u as ut,a as oe}from"./index-5c04613c.js";import{u as Nt}from"./index-33af1cce.js";import{I as re,u as ae}from"./internal-971a5a29.js";import{u as se}from"./modal-context-069faf31.js";import{c as le}from"./check-safe-url-87d46dc3.js";import{I as gt}from"./internal-4584f44c.js";import{g as ce,a as ue}from"./utils-06561385.js";import{K as fe}from"./keycode-5e563e63.js";import{a as Ot,f as de,i as zt}from"./node-belongs-c9e88748.js";import{a as _e}from"./use-resize-observer-2cd5ced9.js";import{a as N,c as me}from"./index-47bb06f7.js";import{b as pe,d as kt,s as be}from"./scrollable-containers-435d5d18.js";import{T as Se}from"./Transition-32ef578e.js";const S={arrow:"awsui_arrow_xjuzf_hg5hv_289","arrow-outer":"awsui_arrow-outer_xjuzf_hg5hv_293","arrow-inner":"awsui_arrow-inner_xjuzf_hg5hv_293","arrow-position-right-top":"awsui_arrow-position-right-top_xjuzf_hg5hv_335","arrow-position-right-bottom":"awsui_arrow-position-right-bottom_xjuzf_hg5hv_335","arrow-position-left-top":"awsui_arrow-position-left-top_xjuzf_hg5hv_338","arrow-position-left-bottom":"awsui_arrow-position-left-bottom_xjuzf_hg5hv_338","arrow-position-top-center":"awsui_arrow-position-top-center_xjuzf_hg5hv_341","arrow-position-top-right":"awsui_arrow-position-top-right_xjuzf_hg5hv_341","arrow-position-top-left":"awsui_arrow-position-top-left_xjuzf_hg5hv_341","arrow-position-top-responsive":"awsui_arrow-position-top-responsive_xjuzf_hg5hv_341","arrow-position-bottom-center":"awsui_arrow-position-bottom-center_xjuzf_hg5hv_344","arrow-position-bottom-right":"awsui_arrow-position-bottom-right_xjuzf_hg5hv_344","arrow-position-bottom-left":"awsui_arrow-position-bottom-left_xjuzf_hg5hv_344","arrow-position-bottom-responsive":"awsui_arrow-position-bottom-responsive_xjuzf_hg5hv_344",body:"awsui_body_xjuzf_hg5hv_492","body-overflow-visible":"awsui_body-overflow-visible_xjuzf_hg5hv_528","has-dismiss":"awsui_has-dismiss_xjuzf_hg5hv_532",dismiss:"awsui_dismiss_xjuzf_hg5hv_537","dismiss-control":"awsui_dismiss-control_xjuzf_hg5hv_545","header-row":"awsui_header-row_xjuzf_hg5hv_549",header:"awsui_header_xjuzf_hg5hv_549",content:"awsui_content_xjuzf_hg5hv_574","content-overflow-visible":"awsui_content-overflow-visible_xjuzf_hg5hv_582",container:"awsui_container_xjuzf_hg5hv_730","container-body":"awsui_container-body_xjuzf_hg5hv_738","container-body-variant-annotation":"awsui_container-body-variant-annotation_xjuzf_hg5hv_778","container-body-size-small":"awsui_container-body-size-small_xjuzf_hg5hv_783","fixed-width":"awsui_fixed-width_xjuzf_hg5hv_786","container-body-size-medium":"awsui_container-body-size-medium_xjuzf_hg5hv_790","container-body-size-large":"awsui_container-body-size-large_xjuzf_hg5hv_797","container-arrow":"awsui_container-arrow_xjuzf_hg5hv_809","container-arrow-position-right-top":"awsui_container-arrow-position-right-top_xjuzf_hg5hv_813","container-arrow-position-right-bottom":"awsui_container-arrow-position-right-bottom_xjuzf_hg5hv_813","container-arrow-position-left-top":"awsui_container-arrow-position-left-top_xjuzf_hg5hv_830","container-arrow-position-left-bottom":"awsui_container-arrow-position-left-bottom_xjuzf_hg5hv_830","container-arrow-position-top-center":"awsui_container-arrow-position-top-center_xjuzf_hg5hv_847","container-arrow-position-top-right":"awsui_container-arrow-position-top-right_xjuzf_hg5hv_847","container-arrow-position-top-left":"awsui_container-arrow-position-top-left_xjuzf_hg5hv_847","container-arrow-position-top-responsive":"awsui_container-arrow-position-top-responsive_xjuzf_hg5hv_847","container-arrow-position-bottom-center":"awsui_container-arrow-position-bottom-center_xjuzf_hg5hv_863","container-arrow-position-bottom-right":"awsui_container-arrow-position-bottom-right_xjuzf_hg5hv_867","container-arrow-position-bottom-left":"awsui_container-arrow-position-bottom-left_xjuzf_hg5hv_871","awsui-motion-fade-in":"awsui_awsui-motion-fade-in_xjuzf_hg5hv_1",refresh:"awsui_refresh_xjuzf_hg5hv_1041",root:"awsui_root_xjuzf_hg5hv_1063","no-wrap":"awsui_no-wrap_xjuzf_hg5hv_1095","root-filtering-token":"awsui_root-filtering-token_xjuzf_hg5hv_1099",trigger:"awsui_trigger_xjuzf_hg5hv_1103","overflow-ellipsis":"awsui_overflow-ellipsis_xjuzf_hg5hv_1110","trigger-type-text":"awsui_trigger-type-text_xjuzf_hg5hv_1118","trigger-type-filtering-token":"awsui_trigger-type-filtering-token_xjuzf_hg5hv_1154","popover-inline-content":"awsui_popover-inline-content_xjuzf_hg5hv_1158"},ve=e=>r.createElement("div",{className:E(S.arrow,e.position&&S[`arrow-position-${e.position}`])},r.createElement("div",{className:S["arrow-outer"]}),r.createElement("div",{className:E(S["arrow-inner"],S.refresh)})),he=r.memo(ve);const we={root:"awsui_root_oip5a_160mh_5"};function xt({focusNextCallback:e,disabled:t=!1}){return r.createElement("div",{className:we.root,tabIndex:t?-1:0,onFocus:e})}function ge({className:e,disabled:t,autoFocus:n,restoreFocus:o,children:i},c){const l=a.useRef(null),m=a.useRef(null),d=()=>{var s;m.current&&((s=ce(m.current))===null||s===void 0||s.focus())},v=()=>{var s;m.current&&((s=ue(m.current))===null||s===void 0||s.focus())};a.useEffect(()=>{n&&!t&&(l.current=document.activeElement,d())},[n,t]);const[u,f]=a.useState(!!t);a.useEffect(()=>{var s;u!==!!t&&(f(!!t),o&&t&&((s=l.current)===null||s===void 0||s.focus(),l.current=null))},[u,t,o]);const p=a.useCallback(s=>{var b;s===null&&o&&((b=l.current)===null||b===void 0||b.focus(),l.current=null)},[o]);a.useImperativeHandle(c,()=>({focusFirst:d}));const _=Nt(m,p);return r.createElement(r.Fragment,null,r.createElement(xt,{disabled:t,focusNextCallback:v}),r.createElement("div",{className:e,ref:_},i),r.createElement(xt,{disabled:t,focusNextCallback:d}))}const ze=r.forwardRef(ge);function ke({dismissButton:e,dismissAriaLabel:t,header:n,children:o,onDismiss:i,variant:c,overflowVisible:l,className:m,ariaLabelledby:d,closeAnalyticsAction:v}){const u=At("popover"),f=ut("awsui-popover-"),p=a.useRef(!1),_=a.useRef(null),s=a.useCallback(h=>{h.keyCode===fe.escape&&(h.stopPropagation(),i==null||i())},[i]);a.useEffect(()=>{var h;e&&!p.current&&((h=_.current)===null||h===void 0||h.focus({preventScroll:!0})),p.current=e},[e]);const b=(e??null)&&r.createElement("div",Object.assign({className:S.dismiss},v?Ct({action:v}):{}),r.createElement(Lt,{variant:"icon",formAction:"none",iconName:"close",className:S["dismiss-control"],ariaLabel:u("dismissAriaLabel",t),onClick:()=>i==null?void 0:i(),ref:_})),y=e,z=e&&c!=="annotation",w=y?{role:"dialog","aria-labelledby":d??(n?f:void 0)}:{};return r.createElement("div",Object.assign({className:E(S.body,m,{[S["body-overflow-visible"]]:l==="both"}),onKeyDown:s},w),r.createElement(ze,{disabled:!z,autoFocus:!1},n&&r.createElement("div",{className:E(S["header-row"],e&&S["has-dismiss"])},b,r.createElement("div",{className:S.header,id:f},r.createElement("h2",null,n))),r.createElement("div",{className:!n&&e?S["has-dismiss"]:void 0},!n&&b,r.createElement("div",{className:E(S.content,{[S["content-overflow-visible"]]:!!l})},o))))}const R=12,xe={top:["top-center","top-right","top-left","bottom-center","bottom-right","bottom-left","right-top","right-bottom","left-top","left-bottom"],bottom:["bottom-center","bottom-right","bottom-left","top-center","top-right","top-left","right-top","right-bottom","left-top","left-bottom"],left:["left-top","left-bottom","right-top","right-bottom","bottom-center","top-center","bottom-left","top-left","bottom-right","top-right"],right:["right-top","right-bottom","left-top","left-bottom","bottom-center","top-center","bottom-right","top-right","bottom-left","top-left"]},Et={"top-center":({body:e,trigger:t,arrow:n})=>({insetBlockStart:t.insetBlockStart-e.blockSize-n.blockSize,insetInlineStart:t.insetInlineStart+t.inlineSize/2-e.inlineSize/2,inlineSize:e.inlineSize,blockSize:e.blockSize}),"top-right":({body:e,trigger:t,arrow:n})=>({insetBlockStart:t.insetBlockStart-e.blockSize-n.blockSize,insetInlineStart:t.insetInlineStart+t.inlineSize/2-R-n.inlineSize/2,inlineSize:e.inlineSize,blockSize:e.blockSize}),"top-left":({body:e,trigger:t,arrow:n})=>({insetBlockStart:t.insetBlockStart-e.blockSize-n.blockSize,insetInlineStart:t.insetInlineStart+t.inlineSize/2+R+n.inlineSize/2-e.inlineSize,inlineSize:e.inlineSize,blockSize:e.blockSize}),"bottom-center":({body:e,trigger:t,arrow:n})=>({insetBlockStart:t.insetBlockStart+t.blockSize+n.blockSize,insetInlineStart:t.insetInlineStart+t.inlineSize/2-e.inlineSize/2,inlineSize:e.inlineSize,blockSize:e.blockSize}),"bottom-right":({body:e,trigger:t,arrow:n})=>({insetBlockStart:t.insetBlockStart+t.blockSize+n.blockSize,insetInlineStart:t.insetInlineStart+t.inlineSize/2-R-n.inlineSize/2,inlineSize:e.inlineSize,blockSize:e.blockSize}),"bottom-left":({body:e,trigger:t,arrow:n})=>({insetBlockStart:t.insetBlockStart+t.blockSize+n.blockSize,insetInlineStart:t.insetInlineStart+t.inlineSize/2+R+n.inlineSize/2-e.inlineSize,inlineSize:e.inlineSize,blockSize:e.blockSize}),"right-top":({body:e,trigger:t,arrow:n})=>({insetBlockStart:t.insetBlockStart+t.blockSize/2-R-n.blockSize,insetInlineStart:t.insetInlineStart+t.inlineSize+n.blockSize,inlineSize:e.inlineSize,blockSize:e.blockSize}),"right-bottom":({body:e,trigger:t,arrow:n})=>({insetBlockStart:t.insetBlockStart+t.blockSize/2-e.blockSize+R+n.blockSize,insetInlineStart:t.insetInlineStart+t.inlineSize+n.blockSize,inlineSize:e.inlineSize,blockSize:e.blockSize}),"left-top":({body:e,trigger:t,arrow:n})=>({insetBlockStart:t.insetBlockStart+t.blockSize/2-R-n.blockSize,insetInlineStart:t.insetInlineStart-e.inlineSize-n.blockSize,inlineSize:e.inlineSize,blockSize:e.blockSize}),"left-bottom":({body:e,trigger:t,arrow:n})=>({insetBlockStart:t.insetBlockStart+t.blockSize/2-e.blockSize+R+n.blockSize,insetInlineStart:t.insetInlineStart-e.inlineSize-n.blockSize,inlineSize:e.inlineSize,blockSize:e.blockSize})};function Ee(e,t){let{insetInlineStart:n,inlineSize:o,insetBlockStart:i,blockSize:c}=e;return n<t.insetInlineStart?(o=n+o-t.insetInlineStart,n=t.insetInlineStart):n+o>t.insetInlineStart+t.inlineSize&&(o=t.insetInlineStart+t.inlineSize-n),i<t.insetBlockStart?(c=i+c-t.insetBlockStart,i=t.insetBlockStart):i+c>t.insetBlockStart+t.blockSize&&(c=t.insetBlockStart+t.blockSize-i),{insetInlineStart:n,inlineSize:o,insetBlockStart:i,blockSize:c}}function ye(e,t){return e.blockSize>=t.blockSize?e:t}function yt(e){let t=null;for(const n of e){if(!t){t=n;continue}const o=Math.max(t.insetInlineStart,n.insetInlineStart),i=Math.max(t.insetBlockStart,n.insetBlockStart),c=Math.min(t.insetInlineStart+t.inlineSize,n.insetInlineStart+n.inlineSize),l=Math.min(t.insetBlockStart+t.blockSize,n.insetBlockStart+n.blockSize);if(c<o||l<i)return null;t={insetInlineStart:o,insetBlockStart:i,inlineSize:c-o,blockSize:l-i}}return t}function Ie({preferredPosition:e,fixedInternalPosition:t,trigger:n,arrow:o,body:i,container:c,viewport:l,renderWithPortal:m,allowVerticalOverflow:d}){let v=null;const u=t?[t]:xe[e];for(const z of u){const w=Et[z]({body:i,trigger:n,arrow:o}),h=yt(m?[w,l]:[w,l,c]);if(h&&h.inlineSize===i.inlineSize&&h.blockSize===i.blockSize)return{internalPosition:z,rect:w};v=je({rect:w,internalPosition:z,visibleArea:h},v)}const f=(v==null?void 0:v.internalPosition)||"right-top",p=Et[f]({body:i,trigger:n,arrow:o}),_=ye(l,c),s=d&&Ae(f)?{insetBlockStart:_.insetBlockStart,blockSize:_.blockSize,insetInlineStart:l.insetInlineStart,inlineSize:l.inlineSize}:l,b=Ee(p,s),y=b.blockSize<p.blockSize;return{internalPosition:f,rect:b,scrollable:y}}function je(e,t){return t!=null&&t.visibleArea?e.visibleArea?e.visibleArea.inlineSize===t.visibleArea.inlineSize?e.visibleArea.blockSize>t.visibleArea.blockSize?e:t:e.visibleArea.inlineSize>t.visibleArea.inlineSize?e:t:t:e}function Be(e){return{offsetHeight:e.offsetHeight,offsetWidth:e.offsetWidth}}function Ce(e){const t=getComputedStyle(e);return{inlineSize:parseFloat(t.inlineSize),blockSize:parseFloat(t.blockSize)}}function Ae(e){return["top","bottom"].includes(e.split("-")[0])}function Re(e,t){const n=e.insetBlockStart+e.blockSize/2,o=n<t.insetBlockStart,i=n>t.insetBlockEnd;return o||i}function Ne({popoverRef:e,bodyRef:t,arrowRef:n,trackRef:o,contentRef:i,allowScrollToFit:c,allowVerticalOverflow:l,preferredPosition:m,renderWithPortal:d,keepPosition:v,hideOnOverscroll:u}){const f=a.useRef(null),[p,_]=a.useState({}),[s,b]=a.useState(null),[y,z]=a.useState(!1),w=a.useRef(()=>{}),h=a.useRef(null);return{updatePositionHandler:a.useCallback((O=!1)=>{var P;if(!o.current||!e.current||!t.current||!i.current||!n.current)return;const g=e.current,I=t.current,$=n.current,L=g.ownerDocument,q=o.current,{offsetWidth:it,offsetHeight:Y}=Be(g);if(it===0||Y===0||!Ot(L.body,q))return;const H=g.style.insetBlockStart,ot=g.style.insetInlineStart;g.style.insetBlockStart="0",g.style.insetInlineStart="0",I.style.maxBlockSize="",I.style.overflowX="",I.style.overflowY="";const V=Pe(L.defaultView),J=N(q),G=Ce($),{containingBlock:W,boundary:Q}=de({startElement:g,tests:{containingBlock:zt,boundary:B=>zt(B)||Te(B)}}),X=W?N(W):V,rt=Q?N(Q):Le(L),T=Oe(I),F=N(i.current),U={inlineSize:F.inlineSize+2*T,blockSize:F.blockSize+2*T},M=v&&O&&!!f.current,k=(P=M&&f.current)!==null&&P!==void 0?P:void 0,{scrollable:at,internalPosition:D,rect:j}=Ie({preferredPosition:m,fixedInternalPosition:k,trigger:J,arrow:G,body:U,container:rt,viewport:V,renderWithPortal:d,allowVerticalOverflow:l}),K=nt(j,X),Z=nt(K,nt(J,X));g.style.insetBlockStart=H,g.style.insetInlineStart=ot,at&&(I.style.maxBlockSize=j.blockSize+"px",I.style.overflowX="hidden",I.style.overflowY="auto"),f.current=D,b(D);const tt=c&&!M,st=tt?K.insetBlockStart+pe(j):K.insetBlockStart;if(_({insetBlockStart:st,insetInlineStart:K.insetInlineStart}),tt){const B=kt(g);be(j,B)}if(u&&o.current instanceof HTMLElement){const B=kt(o.current);B&&(h.current=N(B))}w.current=()=>{const B=N(q),et=nt(B,W?N(W):V);_({insetBlockStart:et.insetBlockStart+Z.insetBlockStart,insetInlineStart:et.insetInlineStart+Z.insetInlineStart}),u&&h.current&&z(Re(B,h.current))}},[o,e,t,i,n,v,m,d,l,c,u]),popoverStyle:p,internalPosition:s,positionHandlerRef:w,isOverscrolling:y}}function Oe(e){return parseInt(getComputedStyle(e).borderWidth)||0}function nt(e,t){return{insetBlockStart:e.insetBlockStart-t.insetBlockStart,insetInlineStart:e.insetInlineStart-t.insetInlineStart}}function Pe(e){var t,n,o,i;return{insetBlockStart:0,insetInlineStart:0,inlineSize:(n=(t=e.visualViewport)===null||t===void 0?void 0:t.width)!==null&&n!==void 0?n:e.innerWidth,blockSize:(i=(o=e.visualViewport)===null||o===void 0?void 0:o.height)!==null&&i!==void 0?i:e.innerHeight}}function Le(e){const{insetBlockStart:t,insetInlineStart:n}=N(e.documentElement);return{insetBlockStart:t,insetInlineStart:n,inlineSize:e.documentElement.scrollWidth,blockSize:e.documentElement.scrollHeight}}function Te(e){const t=getComputedStyle(e);return!!t.clipPath&&t.clipPath!=="none"}function Fe({position:e,trackRef:t,trackKey:n,arrow:o,children:i,zIndex:c,renderWithPortal:l,size:m,fixedWidth:d,variant:v,keepPosition:u,allowScrollToFit:f,allowVerticalOverflow:p,hideOnOverscroll:_}){const s=a.useRef(null),b=a.useRef(null),y=a.useRef(null),z=a.useRef(null),{updatePositionHandler:w,popoverStyle:h,internalPosition:A,positionHandlerRef:O,isOverscrolling:P}=Ne({popoverRef:y,bodyRef:s,arrowRef:z,trackRef:t,contentRef:b,allowScrollToFit:f,allowVerticalOverflow:p,preferredPosition:e,renderWithPortal:l,keepPosition:u,hideOnOverscroll:_});return a.useLayoutEffect(()=>{w()},[w,n]),_e(b,()=>{w(!0)}),a.useLayoutEffect(()=>{const g=L=>{u||Ot(t.current,L.target)||requestAnimationFrame(()=>{w()})},I=()=>requestAnimationFrame(()=>w()),$=()=>requestAnimationFrame(()=>O.current());return window.addEventListener("click",g),window.addEventListener("resize",I),window.addEventListener("scroll",$,!0),()=>{window.removeEventListener("click",g),window.removeEventListener("resize",I),window.removeEventListener("scroll",$,!0)}},[_,u,O,t,w]),P?null:r.createElement("div",{ref:y,style:Object.assign(Object.assign({},h),{zIndex:c}),className:E(S.container,S.refresh)},r.createElement("div",{ref:z,className:E(S["container-arrow"],S[`container-arrow-position-${A}`]),"aria-hidden":!0},o(A)),r.createElement("div",{ref:s,className:E(S["container-body"],S[`container-body-size-${m}`],{[S["fixed-width"]]:d,[S[`container-body-variant-${v}`]]:v})},r.createElement("div",{ref:b},i)))}function Me(e){const t=document.createElement("div");return document.body.appendChild(t),e(t),()=>{document.body.removeChild(t)}}function $e(e,t,n){let o;return e().then(i=>{o=i,n(i)},i=>{console.warn("[AwsUi] [portal]: failed to load portal root",i)}),()=>{t(o)}}function He({container:e,getContainer:t,removeContainer:n,children:o}){const[i,c]=a.useState(e??null);return a.useLayoutEffect(()=>{if(e){c(e);return}return t&&n?$e(t,n,c):Me(c)},[e,t,n]),i&&Xt.createPortal(o,i)}function Ve(e){var{in:t,children:n,exit:o=!0,onStatusChange:i=()=>{},disabled:c=!1,transitionChangeDelay:l}=e,m=ct(e,["in","children","exit","onStatusChange","disabled","transitionChangeDelay"]);const d=a.useRef(null),[v,u]=a.useState(t?"entered":"exited"),f=me(d)||c,p=a.useCallback(_=>{const s=d.current;if(s===null)return;const b=y=>{y.target===s&&(s.removeEventListener("transitionend",b),s.removeEventListener("animationend",b),_())};s.addEventListener("transitionend",b),s.addEventListener("animationend",b)},[]);return r.createElement(Se,Object.assign({addEndListener:p,timeout:f?0:void 0,in:t,nodeRef:d,exit:o,onEnter:_=>{_||(u("enter"),i("enter"))},onEntering:_=>{var s;_||((s=d.current)===null||s===void 0||s.offsetHeight,l!=null&&l.entering?setTimeout(()=>{u("entering"),i("entering")},l==null?void 0:l.entering):(u("entering"),i("entering")))},onEntered:_=>{_||(u("entered"),i("entered"))},onExit:()=>{u("exit"),i("exit")},onExiting:()=>{u("exiting"),i("exiting")},onExited:()=>{u("exited"),i("exited")}},m),()=>n(v,d))}const We={root:"awsui_root_1qprf_160mh_5"};function Ue({value:e,trackRef:t,trackKey:n,className:o,contentAttributes:i={},position:c="top",size:l="small",hideOnOverscroll:m}){return!n&&(typeof e=="string"||typeof e=="number")&&(n=e),r.createElement(He,null,r.createElement("div",Object.assign({className:E(We.root,o)},i,{"data-testid":n}),r.createElement(Ve,{in:!0},()=>r.createElement(Fe,{trackRef:t,trackKey:n,size:l,fixedWidth:!1,position:c,zIndex:7e3,arrow:d=>r.createElement(he,{position:d}),hideOnOverscroll:m},r.createElement(ke,{dismissButton:!1,dismissAriaLabel:void 0,onDismiss:void 0,header:void 0},e)))))}const De=a.createContext({onClick:()=>{}});function Ke(){return a.useContext(De)}function qe(e){const t=ut();return{targetProps:{"aria-describedby":e?t:void 0},descriptionEl:e?r.createElement("span",{id:t,hidden:!0},e):null,descriptionId:t}}function Ye(e,t,n){const o=a.useRef();return a.useEffect(()=>{var i;o.current=n,(i=e.current)===null||i===void 0||i.setAttribute(t,n)},[t,n,e]),{[t]:o.current}}function Ge(e,t){const n=a.useRef(!0);a.useEffect(()=>{if(n.current)n.current=!1;else return e()},t)}const It="awsui-evaluate-component-visibility",Xe=()=>{const[e,t]=a.useState(!1);return a.useEffect(()=>{const n=()=>{t(o=>!o)};return document.addEventListener(It,n),()=>{document.removeEventListener(It,n)}},[]),e};function Je(e,t,n,o,i){const c=oe(),{isInModal:l}=se(),m=Ye(n,"data-analytics-performance-mark",c),d=Xe();return a.useEffect(()=>{if(!t||!n.current||l||!(n.current.offsetWidth>0&&n.current.offsetHeight>0&&getComputedStyle(n.current).visibility!=="hidden"))return;const u=`${e}Rendered`;performance.mark(u,{detail:Object.assign({source:"awsui",instanceIdentifier:c},o())})},[]),Ge(()=>{if(!t||!n.current||l||!(n.current.offsetWidth>0&&n.current.offsetHeight>0&&getComputedStyle(n.current).visibility!=="hidden"))return;const u=`${e}Updated`;performance.mark(u,{detail:Object.assign({source:"awsui",instanceIdentifier:c},o())})},[d,...i]),m}const x={content:"awsui_content_vjswe_ipp1y_153",button:"awsui_button_vjswe_ipp1y_157","variant-normal":"awsui_variant-normal_vjswe_ipp1y_205","variant-icon":"awsui_variant-icon_vjswe_ipp1y_248","variant-modal-dismiss":"awsui_variant-modal-dismiss_vjswe_ipp1y_248","variant-flashbar-icon":"awsui_variant-flashbar-icon_vjswe_ipp1y_248","variant-inline-icon":"awsui_variant-inline-icon_vjswe_ipp1y_269",disabled:"awsui_disabled_vjswe_ipp1y_290","variant-primary":"awsui_variant-primary_vjswe_ipp1y_297","variant-link":"awsui_variant-link_vjswe_ipp1y_389","variant-inline-link":"awsui_variant-inline-link_vjswe_ipp1y_665","variant-breadcrumb-group":"awsui_variant-breadcrumb-group_vjswe_ipp1y_945","variant-menu-trigger":"awsui_variant-menu-trigger_vjswe_ipp1y_1042","button-no-text":"awsui_button-no-text_vjswe_ipp1y_1134","button-no-wrap":"awsui_button-no-wrap_vjswe_ipp1y_1138","full-width":"awsui_full-width_vjswe_ipp1y_1141","icon-left":"awsui_icon-left_vjswe_ipp1y_1160","icon-right":"awsui_icon-right_vjswe_ipp1y_1165",icon:"awsui_icon_vjswe_ipp1y_1160",link:"awsui_link_vjswe_ipp1y_1184","disabled-with-reason":"awsui_disabled-with-reason_vjswe_ipp1y_1184"};function ft(e){return e.variant==="icon"||e.variant==="inline-icon"?"left":e.iconAlign}function Pt(e){var{iconName:t,iconUrl:n,iconAlt:o,iconSvg:i,iconSize:c,badge:l}=e,m=ct(e,["iconName","iconUrl","iconAlt","iconSvg","iconSize","badge"]);return!t&&!n&&!i?null:a.createElement(Rt,{className:E(x.icon,x[`icon-${ft(m)}`],m.iconClass),name:t,url:n,svg:i,alt:o,size:c,badge:l})}function Qe(e){return e.loading?a.createElement(re,{className:E(x.icon,x["icon-left"])}):ft(e)==="left"?a.createElement(Pt,Object.assign({},e)):null}function Ze(e){return ft(e)==="right"?a.createElement(Pt,Object.assign({},e)):null}const jt={label:"awsui_label_1f1d4_ocied_5"};const Bt={"disabled-reason-tooltip":"awsui_disabled-reason-tooltip_1ueyk_ca6yt_5","external-icon":"awsui_external-icon_1ueyk_ca6yt_9"},Lt=r.forwardRef((e,t)=>{var{children:n,iconName:o,__iconClass:i,onClick:c,onFollow:l,iconAlign:m="left",iconUrl:d,iconSvg:v,iconAlt:u,variant:f="normal",loading:p=!1,loadingText:_,disabled:s=!1,disabledReason:b,wrapText:y=!0,href:z,external:w,target:h,rel:A,download:O,formAction:P="submit",ariaLabel:g,ariaDescribedby:I,ariaExpanded:$,ariaControls:L,fullWidth:q,badge:it,i18nStrings:Y,__nativeAttributes:H,__internalRootRef:ot=null,__focusable:V=!1,__injectAnalyticsComponentMetadata:J=!1,__title:G,__emitPerformanceMarks:W=!0,analyticsAction:Q="click"}=e,X=ct(e,["children","iconName","__iconClass","onClick","onFollow","iconAlign","iconUrl","iconSvg","iconAlt","variant","loading","loadingText","disabled","disabledReason","wrapText","href","external","target","rel","download","formAction","ariaLabel","ariaDescribedby","ariaExpanded","ariaControls","fullWidth","badge","i18nStrings","__nativeAttributes","__internalRootRef","__focusable","__injectAnalyticsComponentMetadata","__title","__emitPerformanceMarks","analyticsAction"]);const[rt,T]=a.useState(!1);le("Button",z);const F=!!z,U=h??(w?"_blank":void 0),M=p||s,k=(f==="normal"||f==="primary")&&!!b&&s,at=p&&!s||s&&V||k,D=n&&["icon","inline-icon","flashbar-icon","modal-dismiss"].indexOf(f)===-1,j=a.useRef(null);ie(t,j);const K=Ke(),Z=At("button"),tt=ut("button"),{funnelInteractionId:st}=vt(),{stepNumber:B,stepNameSelector:et}=Qt(),{subStepSelector:tn,subStepNameSelector:Tt}=Zt(),Ft=Je("primaryButton",f==="primary"&&W,j,()=>{var C;return{loading:p,disabled:s,text:(C=j.current)===null||C===void 0?void 0:C.innerText}},[p,s]);ae(f==="primary",p);const{targetProps:Mt,descriptionEl:$t}=qe(b),Ht=C=>{if(M)return C.preventDefault();F&&ne(C)&&(wt(l,{href:z,target:U},C),(o==="external"||U==="_blank")&&st&&(ht(et),ht(Tt)));const{altKey:Dt,button:Kt,ctrlKey:qt,metaKey:Yt,shiftKey:Gt}=C;wt(c,{altKey:Dt,button:Kt,ctrlKey:qt,metaKey:Yt,shiftKey:Gt},C),K.onClick({variant:f})},Vt=E(X.className,x.button,x[`variant-${f}`],{[x.disabled]:M,[x["disabled-with-reason"]]:k,[x["button-no-wrap"]]:!y,[x["button-no-text"]]:!D,[x["full-width"]]:D&&q,[x.link]:F}),Wt=H&&"tabIndex"in H?H.tabIndex:void 0,{tabIndex:Ut}=ee(j,{tabIndex:F&&M&&!k?-1:Wt}),dt=s?{}:{action:Q,detail:{label:{root:"self"}}};J&&(dt.component={name:"awsui.Button",label:{root:"self"},properties:{variant:f,disabled:`${s}`}});const _t=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},X),H),Ft),{tabIndex:Ut,ref:Nt(j,ot),"aria-label":g,"aria-describedby":I,"aria-expanded":$,"aria-controls":L,title:G??g,className:Vt,onClick:Ht,[te]:tt}),Ct(dt)),Jt(n?`.${jt.label}`:"")),mt={loading:p,iconName:o,iconAlign:m,iconUrl:d,iconSvg:v,iconAlt:u,variant:f,badge:it,iconClass:i,iconSize:f==="modal-dismiss"?"medium":"normal"},pt=r.createElement(r.Fragment,null,r.createElement(Qe,Object.assign({},mt)),D&&r.createElement(r.Fragment,null,r.createElement("span",{className:E(x.content,jt.label)},n),w&&r.createElement(r.Fragment,null,"Â ",r.createElement("span",{role:"img","aria-label":Z("i18nStrings.externalIconAriaLabel",Y==null?void 0:Y.externalIconAriaLabel)},r.createElement(Rt,{name:"external",className:Bt["external-icon"]})))),r.createElement(Ze,Object.assign({},mt))),{loadingButtonCount:lt}=vt();a.useEffect(()=>{if(p)return lt.current++,()=>{lt.current--}},[p,lt]);const bt=Object.assign({onFocus:k?()=>T(!0):void 0,onBlur:k?()=>T(!1):void 0,onMouseEnter:k?()=>T(!0):void 0,onMouseLeave:k?()=>T(!1):void 0},k?Mt:{}),St=r.createElement(r.Fragment,null,$t,rt&&r.createElement(Ue,{className:Bt["disabled-reason-tooltip"],trackRef:j,value:b}));return F?r.createElement(r.Fragment,null,r.createElement("a",Object.assign({},_t,{href:z,target:U,rel:A??(U==="_blank"?"noopener noreferrer":void 0),"aria-disabled":M?!0:void 0,download:O},bt),pt,k&&St),p&&_&&r.createElement(gt,{tagName:"span",hidden:!0},_)):r.createElement(r.Fragment,null,r.createElement("button",Object.assign({},_t,{type:P==="none"?"button":"submit",disabled:s&&!V&&!k,"aria-disabled":at?!0:void 0},bt),pt,k&&St),p&&_&&r.createElement(gt,{tagName:"span",hidden:!0},_))}),yn=Lt;export{he as A,De as B,ze as F,Lt as I,He as P,xt as T,Fe as a,ke as b,yn as c,Ve as d,Ye as e,Ge as f,Je as g,x as h,Ue as i,S as s,qe as u};
