import{c as u,_ as T,b as $,e as M,d as V}from"./index-eb73e870.js";import{R as e,r as _}from"./index-2c36b58a.js";import"./ResizeObserver-6fd345a6.js";import{b as D}from"./index-491afaa4.js";import{u as p}from"./index-5c04613c.js";import{t as F}from"./throttle-c4fb4198.js";import{I as j}from"./internal-4584f44c.js";import{I}from"./internal-fb301464.js";import{I as U}from"./internal-1d1af924.js";import{S as O}from"./internal-616d830c.js";import{j as v}from"./join-strings-170e7968.js";const a={progress:"awsui_progress_11huc_1iefd_361","result-state":"awsui_result-state_11huc_1iefd_375","awsui-motion-fade-in":"awsui_awsui-motion-fade-in_11huc_1iefd_1",root:"awsui_root_11huc_1iefd_397","with-result-button":"awsui_with-result-button_11huc_1iefd_429","result-text":"awsui_result-text_11huc_1iefd_433","result-container-error":"awsui_result-container-error_11huc_1iefd_437","result-container-success":"awsui_result-container-success_11huc_1iefd_437","result-button":"awsui_result-button_11huc_1iefd_441","word-wrap":"awsui_word-wrap_11huc_1iefd_447","label-flash":"awsui_label-flash_11huc_1iefd_452","label-key-value":"awsui_label-key-value_11huc_1iefd_456",flash:"awsui_flash_11huc_1iefd_464","progress-container":"awsui_progress-container_11huc_1iefd_468","percentage-container":"awsui_percentage-container_11huc_1iefd_475",percentage:"awsui_percentage_11huc_1iefd_475",complete:"awsui_complete_11huc_1iefd_521","progress-in-flash":"awsui_progress-in-flash_11huc_1iefd_534","additional-info":"awsui_additional-info_11huc_1iefd_547"},f=100,q=(r,t,n)=>Math.max(Math.min(r,n),t),Q=({value:r,isInFlash:t,ariaLabel:n,ariaLabelledby:s,ariaDescribedby:o})=>{const i=Math.round(r),l=q(i,0,f);return e.createElement("div",{className:a["progress-container"]},e.createElement("progress",{className:u(a.progress,l>=f&&a.complete,t&&a["progress-in-flash"]),max:f,value:l,"aria-label":n,"aria-labelledby":n?void 0:s,"aria-describedby":o}),e.createElement("span",{"aria-hidden":"true",className:a["percentage-container"]},e.createElement(I,{className:a.percentage,variant:"small",color:t?"inherit":void 0},`${l}%`)))},N=({color:r,children:t,className:n,id:s})=>e.createElement(I,{className:u(a["word-wrap"],n),variant:"small",display:"block",color:r,id:s},t),X=({onClick:r,children:t})=>e.createElement("div",{className:a["result-button"]},e.createElement(U,{formAction:"none",onClick:r},t)),Y=({isInFlash:r,resultText:t,resultButtonText:n,status:s,onClick:o})=>{const i=!!n;return r?e.createElement("div",{className:a[`result-container-${s}`],"aria-live":"polite","aria-atomic":"true"},e.createElement("span",{className:a["result-text"]},t)):e.createElement("div",{className:a[`result-container-${s}`],"aria-live":"polite","aria-atomic":"true"},e.createElement("span",{className:u(i&&a["with-result-button"])},e.createElement(O,{type:s==="success"?"success":"error"},e.createElement("span",{className:a["result-text"]},t))),i&&e.createElement(X,{onClick:o},n))},z=5e3;function G(r){var{value:t=0,status:n="in-progress",variant:s="standalone",resultButtonText:o,label:i,ariaLabel:l,ariaLabelledby:y,ariaDescribedby:x,description:d,additionalInfo:m,resultText:B,onResultButtonClick:R}=r,S=T(r,["value","status","variant","resultButtonText","label","ariaLabel","ariaLabelledby","ariaDescribedby","description","additionalInfo","resultText","onResultButtonClick"]);const{__internalRootRef:k}=$("ProgressBar",{props:{variant:s}}),h=M(S),b=`${p("awsui-progress-bar-")}-label`,c=s==="flash",C=n==="in-progress",g=p("progressbar-description-"),w=p("progressbar-additional-info-"),[P,L]=_.useState(""),E=_.useMemo(()=>F(A=>{L(`${A}%`)},z),[]);return _.useEffect(()=>{E(t)},[E,t]),e.createElement("div",Object.assign({},h,{className:u(h.className,a.root,s&&a[s]),ref:k}),e.createElement("div",{className:c?a["flash-container"]:void 0},e.createElement("div",{className:u(a["word-wrap"],a[`label-${s}`]),id:b},i),d&&e.createElement(N,{color:c?"inherit":void 0,id:g},d),e.createElement("div",null,C?e.createElement(e.Fragment,null,e.createElement(Q,{value:t,ariaLabel:l,ariaLabelledby:v(b,y),ariaDescribedby:v(d?g:void 0,m?w:void 0,x),isInFlash:c}),e.createElement(j,{hidden:!0,tagName:"span",delay:0},i,i?": ":null,P)):e.createElement(Y,{resultText:B,isInFlash:c,resultButtonText:o,status:n,onClick:()=>{D(R)}}))),m&&e.createElement(N,{className:a["additional-info"],color:c?"inherit":void 0,id:w},m))}V(G,"ProgressBar");export{G as P};
