import{r as i,R as D,j as t}from"./index-2c36b58a.js";import{A as H}from"./app-context-b611d09f.js";import{e as V}from"./flush-response-9185171e.js";import{S as _}from"./screenshot-area-b77c8583.js";import{S as q}from"./index-75e01ea4.js";import{H as z}from"./index-7d405f0c.js";import{B as d}from"./index-84731336.js";import{B as k}from"./index-9085be47.js";import{B as O}from"./index-433e5a16.js";import{S as c}from"./index-3af9db76.js";import"./isSymbol-5e4b6858.js";import"./isObjectLike-2b7e5469.js";import"./isArguments-ec666b3a.js";import"./_baseToString-3b9773c0.js";import"./isArray-5ac9c87d.js";import"./clsx-0839fdbe.js";import"./use-container-query-60e26c9e.js";import"./use-resize-observer-2cd5ced9.js";import"./ResizeObserver-6fd345a6.js";import"./index-8996ce48.js";import"./index-eb73e870.js";import"./internal-90218b53.js";import"./index-298438fd.js";import"./index-33af1cce.js";import"./internal-971f8eb5.js";import"./attributes-9cbf7bc1.js";import"./use-sticky-header-3ae5a14e.js";import"./find-up-until-61244faf.js";import"./tokens-4068cfaf.js";import"./index-1b07c59a.js";import"./scrollable-containers-435d5d18.js";import"./breakpoints-dd8065be.js";import"./global-vars-d161e56c.js";import"./selectors-2871d9bb.js";import"./collection-label-context-b15b8042.js";import"./info-link-label-context-b5baf2e5.js";import"./index-5c04613c.js";import"./styles.css-db2cfaaa.js";import"./internal-1d1af924.js";import"./context-d1fbdd85.js";import"./internal-67a4bdad.js";import"./use-funnel-f65631cb.js";import"./node-belongs-c9e88748.js";import"./single-tab-stop-navigation-context-cd355dd7.js";import"./index-491afaa4.js";import"./index-e97f25e5.js";import"./internal-971a5a29.js";import"./modal-context-069faf31.js";import"./check-safe-url-87d46dc3.js";import"./internal-4584f44c.js";import"./utils-06561385.js";import"./keycode-5e563e63.js";import"./index-47bb06f7.js";import"./Transition-32ef578e.js";import"./internal-fb301464.js";import"./external-props-f3440ca2.js";import"./circle-index-ff7c6070.js";import"./handle-key-f035cd81.js";import"./internal-a8e67a02.js";import"./index-d8010092.js";import"./form-field-context-fcff921e.js";import"./join-strings-170e7968.js";import"./logging-3d6eeea4.js";import"./internal-41d01643.js";import"./internal-605c76be.js";import"./index-aa0176b5.js";import"./index-c328e31d.js";import"./index-67c045b5.js";import"./index-d426916f.js";import"./index-84af6bb2.js";import"./index-039e8e61.js";import"./use-open-state-f9537631.js";import"./internal-616d830c.js";V();function dt(){const{urlParams:{dropdownExpandToViewport:b=!0,manualServerMock:v=!1}}=i.useContext(H),m=D.useRef(null),[a,g]=i.useState("none"),[u,h]=i.useState(!1),[y,S]=i.useState(!1),[r,l]=i.useState(null),[N,j]=i.useState(!0),[B,C]=i.useState(!0),s={like:["Like","Liked"],dislike:["Dislike","Disliked"],favorite:["Add to favorites","Added to favorites"]},R={type:"group",text:"Vote",items:[{type:"icon-toggle-button",id:"like",iconName:"thumbs-up",pressedIconName:"thumbs-up-filled",text:a==="like"?s.like[1]:s.like[0],pressed:a==="like"},{type:"icon-toggle-button",id:"dislike",iconName:"thumbs-down",pressedIconName:"thumbs-down-filled",text:a==="dislike"?s.dislike[1]:s.dislike[0],pressed:a==="dislike"}]},F={type:"group",text:"Favorite",items:[{type:"icon-toggle-button",id:"favorite",iconName:"star",pressedIconName:"star-filled",text:u?s.favorite[1]:s.favorite[0],loading:r==="favorite",pressed:u}]},w={type:"group",text:"Send",items:[{type:"icon-button",id:"send",iconName:"send",text:"Send"}]},A={type:"icon-button",id:"copy",iconName:"copy",text:"Copy",popoverFeedback:t.jsx(c,{type:"success",children:"Copied"})},E={type:"icon-button",id:"add",iconName:"add-plus",text:"Add",loading:r==="add"},I={type:"icon-button",id:"remove",iconName:"remove",text:"Remove",disabled:r==="remove",popoverFeedback:r==="remove"?t.jsx(c,{type:"loading",children:"Removing"}):t.jsx(c,{children:"Removed"})},G={type:"icon-button",id:"redo",iconName:"redo",text:"Redo",disabled:!B},L={type:"menu-dropdown",id:"more-actions",text:"More actions",loading:!!(r&&["cut","paste","edit","open","search"].includes(r)),items:[{id:"cut",iconName:"delete-marker",text:"Cut"},{id:"paste",iconName:"add-plus",text:"Paste",disabled:!0,disabledReason:"No content to paste"},{text:"Misc",items:[{id:"edit",iconName:"edit",text:"Edit"},{id:"open",iconName:"file-open",text:"Open"},{id:"search",iconName:"search",text:"Search"}]},{text:"Settings",items:[{id:"experimental-features",itemType:"checkbox",iconName:"bug",text:"Experimental features",checked:y}]}]};function M(e){return!(e.type==="group"&&e.text==="Send"&&!N)}const T=[R,F,w,A,E,I,G,L].filter(M),P=({detail:e})=>{function f(o){const p=document.createElement("div");p.textContent=o,document.querySelector("#log").append(p)}function n(o){f(e.id),o==null||o()}function x(o){l(e.id);const p=()=>{l(null),f(e.id),o==null||o()};v?window.__pendingCallbacks.push(p):setTimeout(p,1e3)}switch(e.id){case"like":case"dislike":return n(()=>g(e.pressed?e.id:"none"));case"favorite":return x(()=>h(!!e.pressed));case"send":return n(()=>j(!1));case"redo":return n(()=>C(!1));case"add":case"remove":case"open":return x();case"experimental-features":return n(()=>S(!!e.pressed));default:return n()}};return t.jsx(_,{disableAnimations:!0,children:t.jsxs(q,{size:"m",children:[t.jsx(z,{variant:"h1",children:"Button Group test page"}),t.jsx(d,{"data-testid":"focus-before",children:"Focus before"}),t.jsx(k,{margin:{vertical:"xl"},children:t.jsx(O,{ref:m,ariaLabel:"Chat actions",variant:"icon",items:T,onItemClick:P,dropdownExpandToViewport:b})}),t.jsx(d,{onClick:()=>{var e;return(e=m.current)==null?void 0:e.focus("copy")},"data-testid":"focus-on-copy",children:"Focus on copy"}),t.jsx(d,{onClick:()=>{var e;return(e=m.current)==null?void 0:e.focus("more-actions")},"data-testid":"focus-on-more-actions",children:"Focus on more actions"}),t.jsx(k,{children:t.jsx("div",{id:"log"})})]})})}export{dt as default};
