import{r as c}from"./index-2c36b58a.js";import{b as i}from"./index-491afaa4.js";import{n as u}from"./node-belongs-c9e88748.js";class a{constructor(r,{onFocusEnter:n,onFocusLeave:t}){this.node=r,this.currentlyFocused=!1,this.focusInListener=e=>{const o=u(this.node,e.target);!this.currentlyFocused&&o&&this.triggerFocus()},this.focusOutListener=e=>{const o=e.relatedTarget,d=!u(this.node,o);this.currentlyFocused&&(o===null||d)&&this.triggerBlur()},this.onFocusEnter=n,this.onFocusLeave=t}initialize(){this.currentlyFocused=u(this.node,document.activeElement),document.addEventListener("focusin",this.focusInListener),document.addEventListener("focusout",this.focusOutListener)}destroy(){document.removeEventListener("focusin",this.focusInListener),document.removeEventListener("focusout",this.focusOutListener)}triggerBlur(){this.currentlyFocused=!1,this.onFocusLeave()}triggerFocus(){this.currentlyFocused=!0,this.onFocusEnter()}}const F=({rootRef:s,onBlur:r,onFocus:n})=>{const t=c.useRef(null);c.useEffect(()=>{if(s.current)return t.current=new a(s.current,{onFocusLeave:()=>{i(r)},onFocusEnter:()=>{i(n)}}),t.current.initialize(),()=>{var e;(e=t.current)===null||e===void 0||e.destroy()}},[s,r,n])};export{F as u};
