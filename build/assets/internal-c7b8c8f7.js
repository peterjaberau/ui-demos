import{c as T,_ as ne,d as ge,e as ve}from"./index-eb73e870.js";import{r as D,R as t}from"./index-2c36b58a.js";import{b as pe}from"./index-491afaa4.js";import{b as Z,d as ye,m as De,c as we,e as Le,f as ke,i as I,h as Ee,j as Ce,r as ee,g as Ae,n as Me,u as ae,k as Re,l as ze}from"./index-97bd0353.js";import{u as xe}from"./index-5c04613c.js";import{S as re}from"./index-d8010092.js";import{f as Ne,u as Pe,i as He,I as te}from"./internal-1d1af924.js";import{u as Ye}from"./index-33af1cce.js";import{K as N}from"./keycode-5e563e63.js";import{h as Ge}from"./handle-key-f035cd81.js";import{r as W,t as S}from"./index-ca9f820b.js";import{a as K}from"./index-059dd688.js";import{u as Be}from"./context-d1fbdd85.js";import{p as Fe}from"./parse-date-da8dcbcf.js";import{f as Ie}from"./format-date-5535d902.js";import{t as Te}from"./index-00c12b3f.js";function Ke(n,a){W(2,arguments);var e=Te(a);return K(n,e*12)}function Oe(n){W(1,arguments);var a=S(n),e=new Date(0);return e.setFullYear(a.getFullYear(),0,1),e.setHours(0,0,0,0),e}function U(n,a){W(2,arguments);var e=S(n),l=S(a);return e.getFullYear()===l.getFullYear()}const d={calendar:"awsui_calendar_1ykar_13z93_153","awsui-motion-fade-in-0":"awsui_awsui-motion-fade-in-0_1ykar_13z93_1",root:"awsui_root_1ykar_13z93_180","calendar-inner":"awsui_calendar-inner_1ykar_13z93_218","calendar-header":"awsui_calendar-header_1ykar_13z93_222","calendar-header-title":"awsui_calendar-header-title_1ykar_13z93_227","calendar-next-btn":"awsui_calendar-next-btn_1ykar_13z93_235","calendar-prev-btn":"awsui_calendar-prev-btn_1ykar_13z93_238","calendar-grid":"awsui_calendar-grid_1ykar_13z93_241","calendar-grid-dense":"awsui_calendar-grid-dense_1ykar_13z93_245","calendar-grid-cell":"awsui_calendar-grid-cell_1ykar_13z93_253","calendar-date-header":"awsui_calendar-date-header_1ykar_13z93_258","calendar-date":"awsui_calendar-date_1ykar_13z93_258","calendar-date-enabled":"awsui_calendar-date-enabled_1ykar_13z93_278","calendar-date-current-page":"awsui_calendar-date-current-page_1ykar_13z93_288","calendar-date-selected":"awsui_calendar-date-selected_1ykar_13z93_299","calendar-date-current":"awsui_calendar-date-current_1ykar_13z93_288","calendar-date-dense":"awsui_calendar-date-dense_1ykar_13z93_320","date-inner":"awsui_date-inner_1ykar_13z93_328","calendar-row":"awsui_calendar-row_1ykar_13z93_403","disabled-reason-tooltip":"awsui_disabled-reason-tooltip_1ykar_13z93_407"},oe=D.forwardRef((n,a)=>{const{disabledReason:e}=n,l=ne(n,["disabledReason"]),r=!!e,{targetProps:m,descriptionEl:b}=Pe(e),g=D.useRef(null),[i,s]=D.useState(!1);return t.createElement("td",Object.assign({ref:Ye(a,g)},r?m:{},l,{onFocus:()=>r?s(!0):void 0,onBlur:()=>r?s(!1):void 0,onMouseEnter:()=>r?s(!0):void 0,onMouseLeave:()=>r?s(!1):void 0}),n.children,r&&t.createElement(t.Fragment,null,b,i&&t.createElement(He,{className:d["disabled-reason-tooltip"],trackRef:g,value:e})))});ge(oe,"GridCell");function Se({isDateEnabled:n,dateDisabledReason:a,focusedDate:e,focusableDate:l,onSelectDate:r,selectedDate:m,ariaLabelledby:b,header:g,rows:i,isCurrentPage:s,renderDate:v,renderDateAnnouncement:k,isSameDate:_,onGridKeyDownHandler:w}){const E=D.useRef(null);Ne(()=>{e&&E.current&&E.current.focus()},[e]);const f=i[0].length>3;return t.createElement("table",{role:"grid",className:T(d["calendar-grid"],f&&d["calendar-grid-dense"]),"aria-labelledby":b},g,t.createElement("tbody",{onKeyDown:w},i.map((c,L)=>t.createElement("tr",{key:L,className:d["calendar-row"]},c.map((u,G)=>{const M=!!l&&_(u,l),B=!!m&&_(u,m),p=!n||n(u),P=a(u),h=!p&&!!P,H=_(u,new Date);let A;return M&&(p||h)?A=0:(p||h)&&(A=-1),t.createElement(oe,{key:`${L}:${G}`,ref:A===0?E:void 0,tabIndex:A,"aria-current":H?"date":void 0,"aria-selected":p?B:void 0,"aria-disabled":!p,onClick:p?()=>r(u):void 0,className:T(d["calendar-grid-cell"],d["calendar-date"],{[d["calendar-date-current-page"]]:s(u),[d["calendar-date-enabled"]]:p,[d["calendar-date-selected"]]:B,[d["calendar-date-current"]]:H,[d["calendar-date-dense"]]:f}),disabledReason:h?P:void 0},t.createElement("span",{className:d["date-inner"],"aria-hidden":"true"},v(u)),t.createElement(re,null,k(u,H)))})))))}function We({locale:n,rows:a}){return t.createElement("thead",null,t.createElement("tr",null,a[0].map(e=>e.getDay()).map(e=>t.createElement("th",{key:e,scope:"col",className:T(d["calendar-grid-cell"],d["calendar-date-header"])},t.createElement("span",{"aria-hidden":"true"},Z(n,e,"short")),t.createElement(re,null,Z(n,e,"long"))))))}function Ue(n,a){return Y(n,a,1)}function je(n,a){return Y(n,a,-1)}function $e(n,a){return Y(n,a,3)}function qe(n,a){return Y(n,a,-3)}function Ve(n,a){const e=Oe(n);if(a(e))return e;const l=Y(e,a,1);return U(e,l)?l:e}function Y(n,a,e){let r=K(n,e);for(;!a(r);){if(Math.abs(ye(n,r))>10)return n;r=K(r,e)}return r}function Je({baseDate:n,focusableDate:a,granularity:e,isDateEnabled:l,isDateFocusable:r,onChangePage:m,onFocusDate:b,onSelectDate:g}){const i=e==="month",s=i?$e:De,v=i?je:we,k=i?Ue:Le,_=i?qe:ke,w=i?U:I;return C=>{let f;const c=[N.up,N.down,N.left,N.right,N.space,N.enter];a===null||c.indexOf(C.keyCode)===-1||(C.preventDefault(),Ge(C,{onActivate:()=>{l(a)&&(b(null),g(a))},onBlockEnd:()=>f=s(a,r),onBlockStart:()=>f=_(a,r),onInlineStart:()=>f=v(a,r),onInlineEnd:()=>f=k(a,r)}),f&&(w(f,n)||m(f),b(f)))}}function Qe({baseDate:n,granularity:a,locale:e,startOfWeek:l}){const r=a==="month";return D.useMemo(()=>r?Xe(n):Ee(n,{firstDayOfWeek:Ce(l,e)}),[n,r,l,e])}function Xe(n){const a=n.getFullYear();return new Array(4).fill(0).map((e,l)=>new Array(3).fill(0).map((r,m)=>new Date(a,l*3+m)))}function Ze({ariaLabel:n,onChange:a}){return t.createElement(te,{iconName:"angle-left",ariaLabel:n,variant:"icon",onClick:()=>a(-1),formAction:"none",className:d["calendar-prev-btn"]})}function ea({ariaLabel:n,onChange:a}){return t.createElement(te,{iconName:"angle-right",ariaLabel:n,variant:"icon",onClick:()=>a(1),formAction:"none",className:d["calendar-next-btn"]})}const aa=({formattedDate:n,onChange:a,previousLabel:e,nextLabel:l,headingId:r})=>t.createElement("div",{className:d["calendar-header"]},t.createElement(Ze,{ariaLabel:e,onChange:a}),t.createElement("h2",{className:d["calendar-header-title"],id:r},n),t.createElement(ea,{ariaLabel:l,onChange:a})),na=aa;function ra({granularity:n,locale:a,i18nStrings:e,previousMonthAriaLabel:l,nextMonthAriaLabel:r,todayAriaLabel:m}){var b,g,i;const s=Be("calendar"),v=n==="month",k=v?s("i18nStrings.previousYearAriaLabel",e==null?void 0:e.previousYearAriaLabel):s("previousMonthAriaLabel",(b=e==null?void 0:e.previousMonthAriaLabel)!==null&&b!==void 0?b:l),_=v?s("i18nStrings.nextYearAriaLabel",e==null?void 0:e.nextYearAriaLabel):s("nextMonthAriaLabel",(g=e==null?void 0:e.nextMonthAriaLabel)!==null&&g!==void 0?g:r),w=v?s("i18nStrings.currentMonthAriaLabel",e==null?void 0:e.currentMonthAriaLabel):s("todayAriaLabel",(i=e==null?void 0:e.todayAriaLabel)!==null&&i!==void 0?i:m);return{previousButtonLabel:k,nextButtonLabel:_,renderDate:c=>v?c.toLocaleString(a,{month:"short"}):c.getDate().toString(),renderDateAnnouncement:(c,L)=>{const u=v?ee(a,c):Ae(a,c,"short");return L&&w?u+". "+w:u},renderHeaderText:c=>v?c.getFullYear().toString():ee(a,c)}}function Da(n){var{value:a,locale:e="",startOfWeek:l,isDateEnabled:r=()=>!0,dateDisabledReason:m=()=>"",ariaLabel:b,ariaLabelledby:g,ariaDescribedby:i,onChange:s,__internalRootRef:v,i18nStrings:k,granularity:_="day",previousMonthAriaLabel:w,nextMonthAriaLabel:E,todayAriaLabel:C}=n,f=ne(n,["value","locale","startOfWeek","isDateEnabled","dateDisabledReason","ariaLabel","ariaLabelledby","ariaDescribedby","onChange","__internalRootRef","i18nStrings","granularity","previousMonthAriaLabel","nextMonthAriaLabel","todayAriaLabel"]);const c=ve(f),L=Me("Calendar",e),u=D.useRef(null),[G,M]=D.useState(null),B=ae(),p=ae(),P=a&&a.length>=4?Fe(a):null,h=P?B(P):null,H=h??new Date,[A,j]=D.useState(H),$=xe("calendar-heading"),R=_==="month",F=o=>r(o)||!r(o)&&!!m(o),z=R?Ve(A,r):Re(A,r),le=R?I:ze,q=R?U:I,de=o=>R||I(o,z),{previousButtonLabel:se,nextButtonLabel:ie,renderDate:ce,renderDateAnnouncement:ue,renderHeaderText:me}=ra({granularity:_,i18nStrings:k,locale:L,previousMonthAriaLabel:w,nextMonthAriaLabel:E,todayAriaLabel:C}),V=Qe({baseDate:z,granularity:_,startOfWeek:l,locale:L});D.useEffect(()=>{h&&j(o=>o.getTime()!==h.getTime()?h:o)},[h]);const J=G||((o,y)=>{if(o&&F(o)&&q(o,y))return o;const x=new Date;return F(x)&&q(x,y)?x:F(y)?y:null})(h,z),fe=o=>{const x=(R?Ke:K)(z,o);O(x)},O=o=>{j(o),M(null)},Q=o=>{o&&M(o?p(o):null)},X=o=>{pe(s,{value:Ie(o,_)}),M(null)},_e=o=>{var y;o.relatedTarget&&((y=u.current)===null||y===void 0?void 0:y.contains(o.relatedTarget))||M(null)},he=Je({baseDate:z,focusableDate:J,granularity:_,isDateEnabled:r,isDateFocusable:F,onChangePage:O,onFocusDate:Q,onSelectDate:X}),be=me(z);return t.createElement("div",Object.assign({ref:v},c,{role:"group","aria-label":b,"aria-labelledby":g,"aria-describedby":i,className:T(d.root,d.calendar,c.className)}),t.createElement("div",{className:d["calendar-inner"]},t.createElement(na,{formattedDate:be,onChange:fe,previousLabel:se,nextLabel:ie,headingId:$}),t.createElement("div",{onBlur:_e,ref:u},t.createElement(Se,{isDateEnabled:r,dateDisabledReason:m,focusedDate:G,focusableDate:J,onSelectDate:X,onFocusDate:Q,onChangePage:O,selectedDate:h,ariaLabelledby:$,header:R?null:t.createElement(We,{locale:L,rows:V}),rows:V,isCurrentPage:de,renderDate:ce,renderDateAnnouncement:ue,isSameDate:le,onGridKeyDownHandler:he}))))}export{Da as C};
