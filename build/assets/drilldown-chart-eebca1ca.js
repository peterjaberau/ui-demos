import{r as D,j as t}from"./index-2c36b58a.js";import{B as v}from"./index-2c58c43b.js";import{L as u}from"./index-04a17b45.js";import{r as C}from"./popover-drilldown-sample-data-70e9e02c.js";import{c as F,b as $}from"./common-988bdfa5.js";const d=C.map(r=>({...r,type:"bar"})),L=d[0].data.map(r=>r.x),p=r=>`$${r.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,j=9,T=d.slice(0,j-1),g=d.slice(j,d.length-2),h=[];for(const r of g)for(const{x:s,y:c}of r.data){let a=h.find(x=>x.x===s);a?a.y+=c:(a={x:s,y:c},h.push(a))}const S={title:"Others",type:"bar",data:h},b=[...T,S];function E({horizontalBars:r,useLinks:s,expandableSubItems:c}){const[a,x]=D.useState(null);return t.jsx(t.Fragment,{children:t.jsx(v,{...F,hideFilter:!0,stackedBars:!0,series:b,xDomain:L,xTitle:"Time",yTitle:"Costs",ariaLabel:"Costs chart",ariaDescription:$,horizontalBars:r,xTickFormatter:e=>new Date(e).toLocaleDateString("en-US",{month:"short",year:"numeric"}),onFilterChange:({detail:e})=>x(e.visibleSeries),detailPopoverSeriesContent:({series:e,x:f,y:m})=>{const i=e===S,o=p(m);return{expandable:c&&i,key:s==="keys"&&!i?t.jsx(u,{external:!0,href:"#",children:e.title}):e.title,value:s==="values"?t.jsx(u,{external:!0,ariaLabel:`${e.title}: ${o}`,href:"#",children:o}):o,subItems:i?g.map(n=>{const y=n.data.find(l=>l.x===f);if(y){const l=p(y.y);return{key:s==="keys"?t.jsx(u,{external:!0,ariaLabel:`${e.title}: ${n.title}`,href:"#",children:n.title}):n.title,value:s==="values"?t.jsx(u,{external:!0,ariaLabel:`${n.title}: ${l}`,href:"#",children:l}):l}}}).filter(Boolean):void 0}},detailPopoverFooter:e=>{if(a&&a.length===1)return null;const f=(a||b).reduce((m,i)=>{const o=i.data.find(n=>n.x===e);return o?m+o.y:m},0);return t.jsxs(t.Fragment,{children:[t.jsx("hr",{}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[t.jsx("span",{children:"Total"}),t.jsx("span",{children:p(f)})]})]})}})})}export{E as D};
