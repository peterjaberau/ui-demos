import{r as v,j as y,a as fe}from"./index-2c36b58a.js";import{C as me,u as Nt}from"./utilities.esm-7f0f786e.js";import{u as ge,a as ve,i as pe,c as B}from"./index-eb73e870.js";import"./ResizeObserver-6fd345a6.js";import{g as bt,a as vt,u as we,b as Wt}from"./index-47bb06f7.js";import{u as Ft}from"./use-container-query-60e26c9e.js";import{S as ye}from"./index-75e01ea4.js";import{C as Ie}from"./index-fd526985.js";import{I as qt}from"./index-1c466a81.js";import{u as _e}from"./use-resize-observer-2cd5ced9.js";var Xt="board-components",Dt="3.0.0 (c2dd86bc)";function xe(t,e){ge(t,{packageSource:Xt,packageVersion:Dt,theme:"vr"},e)}pe(Xt,Dt);function Tt(t,e){return xe(t,e),{__internalRootRef:ve(t,Dt)}}function At(t,e){t.displayName=e}function Mt(t){const e={};return Object.keys(t).forEach(n=>{n.startsWith("data-")&&(e[n]=t[n])}),e}function be(){const[t,e]=Ft(n=>n.contentBoxWidth<688?1:n.contentBoxWidth<912?2:n.contentBoxWidth<2100?4:6,[]);return[t??0,e]}const Ee=2,Se=1,Ht=200;class H{static fromEvent(e,{isRtl:n}){const i=bt(e,n),o=e.clientY;return new H({x:i,y:o})}static cursorOffset(e,n){return new H({x:e.x-n.x+(e.scrollX-n.scrollX),y:e.y-n.y+(e.scrollY-n.scrollY)})}constructor({x:e,y:n}){this.__type="Coordinates",this.scrollX=window.scrollX,this.scrollY=window.scrollY,this.x=e,this.y=n}}class Re{constructor(){this.listeners=new Map}on(e,n){return this.listeners.has(e)||this.listeners.set(e,[]),this.listeners.get(e).push(n),()=>{this.listeners.set(e,this.listeners.get(e).filter(i=>i!==n))}}emit(e,...n){var i;for(const o of(i=this.listeners.get(e))!==null&&i!==void 0?i:[])o(...n)}}function De(t,e){return t.top>=e.top&&t.left>=e.left&&t.right<=e.right&&t.bottom<=e.bottom}function Te(t,e){return Ae(t,e)>0}function Ae(t,e){let n=0;e.left<=t.left&&t.left<=e.right?n=Math.min(t.right,e.right)-t.left:e.left<=t.right&&t.right<=e.right?n=t.right-Math.max(t.left,e.left):t.left<=e.left&&e.left<=t.right?n=Math.min(t.right,e.right)-e.left:t.left<=e.right&&e.right<=t.right&&(n=e.right-Math.max(t.left,e.left));let i=0;return e.top<=t.top&&t.top<=e.bottom?i=Math.min(t.bottom,e.bottom)-t.top:e.top<=t.bottom&&t.bottom<=e.bottom?i=t.bottom-Math.max(t.top,e.top):t.top<=e.top&&e.top<=t.bottom?i=Math.min(t.bottom,e.bottom)-e.top:t.top<=e.bottom&&e.bottom<=t.bottom&&(i=e.bottom-Math.max(t.top,e.top)),n*i}function Me(t,e){function n(o,r,c){const s=Math.abs(o-c);return Math.abs(r-c)<s?r:o}let i={top:Number.POSITIVE_INFINITY,left:Number.POSITIVE_INFINITY,right:Number.POSITIVE_INFINITY,bottom:Number.POSITIVE_INFINITY};for(const o of e)Te(o,t)&&(i={top:n(i.top,o.top,t.top),left:n(i.left,o.left,t.left),right:n(i.right,o.right,t.right),bottom:n(i.bottom,o.bottom,t.bottom)});return i}function ze({target:t,sources:e,direction:n,isRtl:i}){const o=s=>{var a;return(a=s[0])!==null&&a!==void 0?a:null},r=(s,a)=>Math.abs(s.top-t.top)-Math.abs(a.top-t.top),c=(s,a)=>Math.abs(s.left-t.left)-Math.abs(a.left-t.left);switch(i&&n==="left"?n="right":i&&n==="right"&&(n="left"),n){case"left":return o(e.filter(s=>s.right<=t.left).sort((s,a)=>a.left-s.left||r(s,a)));case"right":return o(e.filter(s=>s.left>=t.right).sort((s,a)=>s.left-a.left||r(s,a)));case"up":return o(e.filter(s=>s.bottom<=t.top).sort((s,a)=>a.top-s.top||c(s,a)));case"down":return o(e.filter(s=>s.top>=t.bottom).sort((s,a)=>s.top-a.top||c(s,a)))}}function at(t){const{insetInlineStart:e,insetInlineEnd:n,insetBlockStart:i,insetBlockEnd:o,inlineSize:r,blockSize:c}=vt(t),s=t.ownerDocument.defaultView.pageXOffset-window.scrollX,a=t.ownerDocument.defaultView.pageYOffset-window.scrollY;return{left:e+s,right:n+s,top:i+a,bottom:o+a,width:r,height:c}}function Pe(t,e){const n=e.map(([,o])=>at(o)),i=Me(t,n);return e.filter((o,r)=>De(n[r],i)).map(([o])=>o)}class Le extends Re{constructor(){super(...arguments),this.droppables=new Map,this.transition=null}start(e){this.transition={...e},this.emit("start",this.getDragAndDropData(e.startCoordinates))}update(e){this.emit("update",this.getDragAndDropData(e))}submit(){this.emit("submit"),this.transition=null}discard(){this.emit("discard"),this.transition=null}acquire(e,n){if(!this.transition)throw new Error("Invariant violation: no transition present for acquire.");this.emit("acquire",{droppableId:e,draggableItem:this.transition.draggableItem,renderAcquiredItem:n})}addDroppable(e,n,i){this.droppables.set(e,{element:i,context:n})}removeDroppable(e){this.droppables.delete(e)}getDroppables(){return[...this.droppables.entries()]}getDragAndDropData(e){if(!this.transition)throw new Error("Invariant violation: no transition present for interaction.");const n=H.cursorOffset(e,this.transition.startCoordinates),i=this.getCollisionRect(this.transition,e),{collisionIds:o,dropTarget:r}=this.getCollisions(i);return{...this.transition,positionOffset:n,coordinates:e,collisionRect:i,collisionIds:o,dropTarget:r}}getCollisionRect(e,n){const i=e.getCollisionRect(e.operation,n,null),{dropTarget:o}=this.getCollisions(i);return e.getCollisionRect(e.operation,n,o)}getCollisions(e){const n=[...this.droppables.entries()],i=n.map(([c,s])=>[c,s.element]),o=Pe(e,i);if(o.length===0)return{collisionIds:o,dropTarget:null};const r=n.find(([c])=>c===o[0]);if(!r)throw new Error("Invariant violation: no droppable matches collision.");return{collisionIds:o,dropTarget:r[1].context}}}const U=new Le;function N(t,e){const n=_e(e);v.useEffect(()=>U.on(t,n),[t,n])}function Ce({draggableItem:t,getCollisionRect:e}){return{start(n,i,o){U.start({operation:n,interactionType:i,draggableItem:t,getCollisionRect:e,startCoordinates:o})},updateTransition(n){U.update(n)},submitTransition(){U.submit()},discardTransition(){U.discard()},acquire(n,i){U.acquire(n,i)},getDroppables(){return U.getDroppables()}}}function Oe({itemId:t,context:e,getElement:n}){v.useEffect(()=>(U.addDroppable(t,e,n()),()=>U.removeDroppable(t)),[t,e,n])}const it={"show-grab-cursor":"awsui_show-grab-cursor_1fgk7_1xrvg_9","show-resize-cursor":"awsui_show-resize-cursor_1fgk7_1xrvg_13","disable-selection":"awsui_disable-selection_1fgk7_1xrvg_20"};function ke(t){throw new Error("Unexpected value: "+t)}function Ne({operation:t,interactionType:e}){switch(t){case"insert":case"reorder":document.body.classList.add(it["show-grab-cursor"]);break;case"resize":document.body.classList.add(it["show-resize-cursor"]);break;default:ke(t)}e==="pointer"&&document.body.classList.add(it["disable-selection"])}function jt(){document.body.classList.remove(it["show-grab-cursor"],it["show-resize-cursor"],it["disable-selection"])}function He(){N("start",Ne),N("discard",jt),N("submit",jt)}function Gt(...t){return v.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})},t)}function je(t,e){return(t.length>=e.length?t:e).map((i,o)=>[t[o],e[o]])}const gt={grid:"awsui_grid_1hw7z_109ya_5","grid-compact":"awsui_grid-compact_1hw7z_109ya_12","columns-1":"awsui_columns-1_1hw7z_109ya_17","columns-2":"awsui_columns-2_1hw7z_109ya_21","columns-4":"awsui_columns-4_1hw7z_109ya_25","columns-6":"awsui_columns-6_1hw7z_109ya_29",grid__item:"awsui_grid__item_1hw7z_109ya_33"},Be=({children:t,item:e})=>y.jsx("div",{className:gt.grid__item,style:{gridRowStart:e.y+1,gridRowEnd:`span ${e.height}`,gridColumnStart:e.x+1,gridColumnEnd:`span ${e.width}`},children:t}),$e=v.memo(Be),Ve={comfortable:20,compact:16},Ye={comfortable:96,compact:76};function We({layout:t,children:e,columns:n,isRtl:i}){const o=v.useRef(null),[r,c]=Ft(f=>f.contentBoxWidth,[]),s=we(o),a=Ve[s],l=Ye[s],d=f=>{f=Math.min(n,f);const g=((r||0)-(n-1)*a)/n;return f*g+(f-1)*a},h=f=>f*l+(f-1)*a,I={getWidth:d,getHeight:h,getColOffset:f=>{const g=d(f)+a;return i!=null&&i()?-g:g},getRowOffset:f=>h(f)+a},p=e==null?void 0:e(I),P=je(t,v.Children.toArray(p)),D=Gt(o,c);return y.jsx("div",{ref:D,className:B(gt.grid,gt[`grid-${s}`],gt[`columns-${n}`]),children:P.map(([f,g])=>y.jsx($e,{item:f,children:g},f.id))})}function Fe(t,e){let n=!1,i=null,o=null,r=null;function c(){if(n===!0||i===null||o===null)return;const l=Date.now();l-o>=e?(t.apply(i.this,i.args),o=l,i=null,r=null):s()}function s(){r&&cancelAnimationFrame(r),r=requestAnimationFrame(c)}function a(...l){o===null?(o=Date.now(),t.apply(this,l)):(i={this:this,args:l},s())}return a.cancel=()=>{r&&cancelAnimationFrame(r),i=null,o=null,r=null,n=!0},a}function qe(t,e,n,i){var o,r;const{left:c,top:s,width:a,height:l}=at(e);switch(t){case"reorder":return{left:n.x,right:n.x+a,top:n.y,bottom:n.y+l};case"resize":return{left:c,top:s,right:n.x,bottom:n.y};case"insert":return{left:n.x,top:n.y,right:n.x+((o=i==null?void 0:i.width)!==null&&o!==void 0?o:a),bottom:n.y+((r=i==null?void 0:i.height)!==null&&r!==void 0?r:l)}}}function Xe({draggableElement:t,droppables:e,direction:n,isRtl:i}){var o;const r=at(t),c=new Map(e.map(([a,l])=>[at(l.element),a])),s=ze({target:r,sources:[...c.keys()],direction:n,isRtl:i});return(o=c.get(s))!==null&&o!==void 0?o:null}const et={root:"awsui_root_lljvd_1evk7_5",inTransition:"awsui_inTransition_lljvd_1evk7_11",transformed:"awsui_transformed_lljvd_1evk7_16",removed:"awsui_removed_lljvd_1evk7_21",dragged:"awsui_dragged_lljvd_1evk7_25",resized:"awsui_resized_lljvd_1evk7_30",hidden:"awsui_hidden_lljvd_1evk7_35"},Ut=v.createContext(null);function Ge(){const t=v.useContext(Ut);if(!t)throw new Error("Unable to find BoardItem context.");return t}const Kt=v.forwardRef(Ue);function Ue({item:t,placed:e,acquired:n,inTransition:i,transform:o,getItemSize:r,onKeyMove:c,children:s,isRtl:a},l){var d,h,u,m,I,p;const P=v.useRef({width:0,height:0}),D=v.useRef(new H({x:0,y:0})),f=v.useRef(null),[g,V]=v.useState(null),[M,Y]=v.useState(!1),K=v.useRef(!1),A=v.useRef(null),L=Ce({draggableItem:t,getCollisionRect:(w,b,R)=>{const k=w==="insert"&&R?r(R):null;return qe(w,A.current,b,k)}});function Q({operation:w,interactionType:b,draggableItem:R,collisionRect:k,coordinates:j,dropTarget:W}){if(t.id===R.id){const[Z,ut]=[k.right-k.left,k.bottom-k.top],ht=D.current;w==="resize"?V({operation:w,interactionType:b,itemId:R.id,sizeTransform:{width:Math.max(r(null).minWidth,Math.min(r(null).maxWidth,Z-ht.x)),height:Math.max(r(null).minHeight,ut-ht.y)},positionTransform:null}):(w==="insert"||w==="reorder")&&V({operation:w,interactionType:b,itemId:R.id,sizeTransform:W?r(W):P.current,positionTransform:{x:j.x-ht.x,y:j.y-ht.y},hasDropTarget:!!W})}}N("start",w=>Q(w)),N("update",w=>Q(w)),N("submit",()=>{V(null),Y(!1),K.current=!1}),N("discard",()=>{V(null),Y(!1),K.current=!1});const F=(d=g==null?void 0:g.interactionType)!==null&&d!==void 0?d:null,q=(h=g==null?void 0:g.itemId)!==null&&h!==void 0?h:null;v.useEffect(()=>{const w=Fe(R=>{var k,j,W,Z;const ut=H.fromEvent(R,{isRtl:a()});L.updateTransition(new H({x:Math.max(ut.x,(j=(k=f.current)===null||k===void 0?void 0:k.x)!==null&&j!==void 0?j:Number.NEGATIVE_INFINITY),y:Math.max(ut.y,(Z=(W=f.current)===null||W===void 0?void 0:W.y)!==null&&Z!==void 0?Z:Number.NEGATIVE_INFINITY)}))},10),b=()=>{w.cancel(),L.submitTransition()};return F==="pointer"&&q===t.id&&(window.addEventListener("pointermove",w),window.addEventListener("pointerup",b)),()=>{window.removeEventListener("pointermove",w),window.removeEventListener("pointerup",b)}},[t.id,F,q]),v.useEffect(()=>{if(F==="keyboard"&&q===t.id){const w=()=>L.submitTransition();return window.addEventListener("pointerdown",w,!0),()=>{window.removeEventListener("pointerdown",w,!0)}}},[t.id,F,q]);function nt(w){if(n)return L.submitTransition();if(g)L.submitTransition();else{const b=at(A.current),R=new H({x:w==="drag"?b.left:b.right,y:w==="drag"?b.top:b.bottom});w==="drag"&&!e?L.start("insert","keyboard",R):w==="drag"?L.start("reorder","keyboard",R):L.start("resize","keyboard",R)}}function J(w){const b=L.getDroppables(),R=Xe({draggableElement:A.current,droppables:b,direction:w,isRtl:a()});R&&(L.acquire(R,()=>s(!0)),Y(!0),K.current=!0)}function X(w,b){const R=g&&w==="drag"&&!e,k=g||w==="drag",j=Z=>{R?J(Z):k&&(c==null||c(Z))},W=()=>{(g||n)&&L.discardTransition()};switch(b.key){case"ArrowUp":return j("up");case"ArrowDown":return j("down");case"ArrowLeft":return j("left");case"ArrowRight":return j("right");case" ":case"Enter":return nt(w);case"Escape":return W()}}function dt(){g&&g.interactionType==="keyboard"&&!K.current&&L.submitTransition()}function yt(w){const b=vt(A.current),R=bt(w,a()),k=w.clientY;D.current=new H({x:R-b.insetInlineStart,y:k-b.insetBlockStart}),P.current={width:b.inlineSize,height:b.blockSize},f.current=null,L.start(e?"reorder":"insert","pointer",H.fromEvent(w,{isRtl:a()}))}function It(w){X("drag",w)}function _t(w){const b=vt(A.current),R=bt(w,a()),k=w.clientY;D.current=new H({x:R-b.insetInlineEnd,y:k-b.insetBlockEnd}),P.current={width:b.inlineSize,height:b.blockSize};const j=r(null).minWidth,W=r(null).minHeight;f.current=new H({x:R-b.inlineSize+j,y:k-b.blockSize+W}),L.start("resize","pointer",H.fromEvent(w,{isRtl:a()}))}function _(w){X("resize",w)}const x={},S=[];i&&S.push(et.inTransition),g&&g.interactionType==="pointer"&&(S.push(g.operation==="resize"?et.resized:et.dragged),x.insetInlineStart=(u=g.positionTransform)===null||u===void 0?void 0:u.x,x.insetBlockStart=(m=g.positionTransform)===null||m===void 0?void 0:m.y,x.inlineSize=(I=g.sizeTransform)===null||I===void 0?void 0:I.width,x.blockSize=(p=g.sizeTransform)===null||p===void 0?void 0:p.height,x.pointerEvents="none"),M&&S.push(et.hidden),o&&(o.type==="move"&&(S.push(et.transformed),x.transform=me.Transform.toString({x:o.x,y:o.y,scaleX:1,scaleY:1}),x.width=o.width+"px",x.height=o.height+"px"),o.type==="remove"&&S.push(et.removed));const T=v.useRef(null);v.useImperativeHandle(l,()=>({focusDragHandle:()=>{var w;return(w=T.current)===null||w===void 0?void 0:w.focus()}}));const C=!!g&&!M||!!n,E=(g==null?void 0:g.operation)==="insert"&&(g==null?void 0:g.interactionType)==="pointer",O=v.useRef(null);(!i||C)&&(O.current=s(!!(g!=null&&g.hasDropTarget)));const tt=y.jsx("div",{ref:A,className:B(et.root,...S),style:x,"data-item-id":t.id,onBlur:dt,children:y.jsx(Ut.Provider,{value:{isActive:C,dragHandle:{ref:T,onPointerDown:yt,onKeyDown:It,isActive:C&&(g==null?void 0:g.operation)==="reorder"},resizeHandle:e?{onPointerDown:_t,onKeyDown:_,isActive:C&&(g==null?void 0:g.operation)==="resize"}:null},children:O.current})});return E?y.jsx("div",{children:fe.createPortal(tt,document.body)}):tt}const Ke={root:"awsui_root_3gfu1_3lgbu_5"};function st(t){return y.jsx("span",{...t,className:B(Ke.root,t.className)})}const Zt=v.memo(Ze);function Ze({assertive:t=!1,delay:e=10,visible:n=!1,children:i,...o}){const r=v.useRef(null),c=v.useRef(null);return v.useEffect(()=>{function s(){if(c.current&&r.current){const l=Bt(r.current);Bt(c.current)!==l&&(c.current.innerText=l)}}let a;return e?a=setTimeout(s,e):s(),()=>{a&&clearTimeout(a)}}),y.jsxs(y.Fragment,{children:[n&&y.jsx("span",{ref:r,children:i}),y.jsxs(st,{...o,className:o.className,children:[!n&&y.jsx("span",{ref:r,"aria-hidden":"true",children:i}),y.jsx("span",{ref:c,"aria-atomic":"true","aria-live":t?"assertive":"polite"})]})]})}function Bt(t){return(t.innerText||"").replace(/\s+/g," ").trim()}function Qe(t,e){const n=[],i=Array(e).fill(0);function o(l){var d;const h=lt(l,e),u=(d=l.columnSpan)!==null&&d!==void 0?d:ot(l,e);return Math.min(e,Math.max(h,u))}function r(l){var d;const h=ct(l),u=(d=l.rowSpan)!==null&&d!==void 0?d:rt(l);return Math.max(h,u)}function c(l,d){var h,u;const m=o(l),I=r(l),p=(u=(h=l.columnOffset)===null||h===void 0?void 0:h[e])!==null&&u!==void 0?u:s(d,m,I);return p+m<=e?p:0}function s(l,d,h){for(let u=l;u+d<=e;u++)if(a(u,d)+h<=a(0,e))return u;for(let u=0;u+d<=e;u++)if(a(u,d)+h<=a(0,e))return u;return l}function a(l,d){let h=0;for(let u=l;u<l+d;u++)h=Math.max(h,i[u]);return h}for(let l=0,d=0,h=0;l<t.length;l++,h=0){const u=o(t[l]),m=r(t[l]);d=c(t[l],d),h=a(d,u),n.push({id:t[l].id,width:u,height:m,x:d,y:h});for(let I=d;I<d+u;I++)i[I]=h+m;d+=u}return n.sort(Jt),{items:n,columns:e,rows:a(0,e)}}function Je(t,e,n){const i=new Map(t.map(a=>[a.id,a])),o=a=>{const l=i.get(a);if(!l)throw new Error("Invariant violation: no matching source item found.");return l},r=e.items.slice().sort(Jt),c=[];let s=r.findIndex(({id:a},l)=>a!==t[l].id||a===n);s=s!==-1?s:r.length;for(let a=0;a<r.length;a++){const{id:l,x:d,width:h,height:u}=r[a],m={...o(l)};a>=s&&(m.columnOffset=void 0),m.columnOffset={...m.columnOffset,[e.columns]:d},m.id===n&&(m.columnSpan=h,m.rowSpan=u),c.push(m)}return c}function Qt(t,e){const n=[];for(let i=0;i<t;i++)for(let o=0;o<e;o++)n.push({id:`awsui-placeholder-${i}-${o}`,x:o,y:i,width:1,height:1});return{items:n,columns:e,rows:t}}function lt(t,e){var n,i;return Math.min(e,Math.max(Se,(i=(n=t.definition)===null||n===void 0?void 0:n.minColumnSpan)!==null&&i!==void 0?i:0))}function ot(t,e){var n,i;return Math.min(e,Math.max(lt(t,e),(i=(n=t.definition)===null||n===void 0?void 0:n.defaultColumnSpan)!==null&&i!==void 0?i:0))}function ct(t){var e,n;return Math.max(Ee,(n=(e=t.definition)===null||e===void 0?void 0:e.minRowSpan)!==null&&n!==void 0?n:0)}function rt(t){var e,n;return Math.max(ct(t),(n=(e=t.definition)===null||e===void 0?void 0:e.defaultRowSpan)!==null&&n!==void 0?n:0)}function Jt(t,e){return t.y!==e.y?t.y>e.y?1:-1:t.x>e.x?1:-1}class z{constructor({x:e,y:n}){this.__type="Position",this.x=e,this.y=n}}function tn(){const t=v.useRef("pointer");return v.useEffect(()=>{const n=()=>{t.current="pointer"},i=()=>{t.current="keyboard"};return window.addEventListener("pointerdown",n),window.addEventListener("keydown",i),()=>{window.removeEventListener("pointerdown",n),window.removeEventListener("keydown",i)}},[]),v.useCallback(()=>t.current,[])}function en(){const[t,e]=v.useState("none"),n=v.useRef(null),i=tn();v.useEffect(()=>{if(t==="none")return;const l=t==="up"?-1:1;let d;function h(){d=setTimeout(()=>{window.scrollBy({top:l*5}),h()},10)}return h(),()=>clearTimeout(d)},[t]);const o=v.useCallback(l=>{l.clientY>window.innerHeight-50?e("down"):l.clientY<50?e("up"):e("none")},[]),r=v.useCallback(()=>{e("none")},[]),c=v.useCallback(()=>{i()==="pointer"&&(window.addEventListener("pointermove",o),window.addEventListener("pointerup",r))},[i,o,r]),s=v.useCallback(()=>{window.removeEventListener("pointermove",o),window.removeEventListener("pointerup",r)},[o,r]),a=v.useCallback(l=>{n.current&&clearTimeout(n.current);const d=document.activeElement;n.current=setTimeout(()=>{var h,u;document.activeElement&&document.activeElement===d&&i()==="keyboard"&&((u=(h=document.activeElement).scrollIntoView)===null||u===void 0||u.call(h,{behavior:"smooth",block:"nearest"}))},l)},[i]);return{addPointerEventHandlers:c,removePointerEventHandlers:s,scheduleActiveElementScrollIntoView:a}}const pt={placeholder:"awsui_placeholder_1h7dk_knzlf_5","placeholder--active":"awsui_placeholder--active_1h7dk_knzlf_9","placeholder--hover":"awsui_placeholder--hover_1h7dk_knzlf_12",root:"awsui_root_1h7dk_knzlf_16",empty:"awsui_empty_1h7dk_knzlf_20"};function nn({id:t,state:e,gridContext:n,columns:i}){const o=v.useRef(null);return Oe({itemId:t,context:{scale:(c,s)=>{var a,l;const d=(a=s==null?void 0:s.width)!==null&&a!==void 0?a:ot(c,i),h=(l=s==null?void 0:s.height)!==null&&l!==void 0?l:rt(c);return{width:n.getWidth(d),height:n.getHeight(h)}}},getElement:()=>o.current}),y.jsx("div",{ref:o,className:B(pt.placeholder,pt[`placeholder--${e}`])})}class zt{constructor(e){this.position=null,this.next=new Array,this.state=e}matches(e,n){for(const o of this.next)if(o.position.x===e.x&&o.position.y===e.y)return o;const i=new zt(n());return i.position=e,this.next.push(i),i}}class on{constructor(e,n=new Array,i=null){this.grid=e,this.moves=n,this.conflicts=i}}function te(t){return t.sort((e,n)=>n.y-e.y===0?n.x-e.x:n.y-e.y)}function rn(t,e){e=ne(t,e);const n=new Map;for(let r=0;r<e.length;r++)n.set(`${e[r].x}:${e[r].y}`,r);const i=[];let o=0;for(;o<e.length;){const r=n.get(`${e[o].x}:${e[o].y}`);i.push(e[r]),o=r+1}return ie(t,i)}function sn(t,e){if(e=ne(t,e),e.length===0)return[];const n=[e[e.length-1]];for(let i=e.length-2;i>=0;i--){const o=n[n.length-1],r=e[i];(r.x<o.x||r.y<o.y)&&n.push(r)}return n.reverse(),ie(t,n)}function G(t,e,n,i=0){const o=t==="RESIZE"?n.x-e.width:n.x-e.x,r=t==="RESIZE"?n.y-e.height:n.y-e.y;return{type:t,itemId:e.id,x:t!=="RESIZE"?n.x:e.x,y:t!=="RESIZE"?n.y:e.y,width:t==="RESIZE"?n.x:e.width,height:t==="RESIZE"?n.y:e.height,direction:o>0?"right":o<0?"left":r<0?"up":"down",distanceX:o,distanceY:r,score:i}}function Pt(t){return{left:t.x-t.distanceX,right:t.x-t.distanceX+t.width-1,top:t.y-t.distanceY,bottom:t.y-t.distanceY+t.height-1}}function ee(t){return{left:t.x,right:t.x+t.width-1,top:t.y,bottom:t.y+t.height-1}}function Et(t,e){return t.id===e.id?!1:t.x<=e.x+e.width-1&&e.x<=t.x+t.width-1&&t.y<=e.y+e.height-1&&e.y<=t.y+t.height-1}function St(t,e){return t==="down"&&e==="up"||t==="up"&&e==="down"||t==="left"&&e==="right"||t==="right"&&e==="left"}function ne(t,e){let n=-1;for(let i=0;i<e.length;i++)e[i].x===t.x&&e[i].y===t.y&&(n=i);return e.slice(n+1)}function ie(t,e){const n=[];let i=t.x,o=t.y;for(const r of e){const c=Math.sign(r.x-i),s=Math.sign(r.y-o);for(let a=i,l=o;a!==r.x||l!==r.y;)a!==r.x?a+=c:l+=s,n.push(new z({x:a,y:l}));i=r.x,o=r.y}return n}class an{static clone(e){const n=new wt([],0);n._width=e._width,n._height=e._height;for(const i of e._items){const o={...i};n._itemsMap.set(o.id,o),n._items.push(o)}return n}constructor(e,n){this._items=new Array,this._itemsMap=new Map,this._width=n,this._height=0;for(const i of e){if(i.x<0||i.y<0||i.x+i.width>this._width)throw new Error("Invalid grid: items outside the boundaries.");if(i.width<1||i.height<1)throw new Error("Invalid grid: items of invalid size.");for(const r of this._items)if(Et(r,i))throw new Error("Invalid grid: items overlap.");const o={...i};this._itemsMap.set(o.id,o),this._items.push(o),this._height=Math.max(this.height,o.y+o.height)}}get width(){return this._width}get height(){return this._height}get items(){return this._items}getItem(e){const n=this._itemsMap.get(e);if(!n)throw new Error(`Item with id "${e}" not found in the grid.`);return n}getOverlaps(e){return this._items.filter(n=>Et(n,e))}}class wt extends an{move(e,n,i){const o=this.getItem(e);o.x=n,o.y=i,this._height=Math.max(this.height,o.y+o.height)}resize(e,n,i){const o=this.getItem(e);o.width=n,o.height=i,this._height=Math.max(this.height,o.y+o.height)}insert(e){if(e.x<0||e.y<0||e.x+e.width>this._width)throw new Error("Inserting item is outside the boundaries.");if(e.width<1||e.height<1)throw new Error("Inserting item has invalid size.");const n={...e};this._itemsMap.set(n.id,n),this._items.push(n),this._height=Math.max(this.height,e.y+e.height)}remove(e){this._itemsMap.delete(e),this._items=this._items.filter(n=>n.id!==e)}}const ln=["down","right","left","up"];class Lt{constructor(e,n,i){this.moveIndex=0,this.overlaps=new Map,this.score=0,this.grid=wt.clone(e),this.moves=[...n],this.moveIndex=n.length,this.conflicts=i}static clone({grid:e,moves:n,moveIndex:i,conflicts:o,overlaps:r,score:c}){return{grid:wt.clone(e),moves:[...n],moveIndex:i,conflicts:o,overlaps:new Map([...r]),score:c}}}function cn(t){const e=[];for(const[n,i]of t.overlaps)for(const o of ln){const r=dn(t,n,i,o);r!==null&&e.push([Lt.clone(t),r])}return e}function dn(t,e,n,i){var o;const r=t.grid.getItem(t.moves[0].itemId),c=t.grid.getItem(e),s=t.grid.getItem(n),a=un(c,s,i);if(a.x<0||a.y<0||a.x+a.width>t.grid.width)return null;const l=$t(t,c.id);if(l&&St(l.direction,i))return null;const d=mn(t,a,s);for(const X of d)if(X.id===r.id||!((o=t.conflicts)===null||o===void 0)&&o.items.has(X.id)||t.overlaps.has(X.id))return null;const h=$t(t,s.id);if(!h)throw new Error("Invariant violation: overlap issuer has no associated moves.");const u=h.direction,m=gn(a,h),I=i!==u,p=St(i,u),P=fn(t),D=hn(t),f=m?0:20,g=!m&&I?10:0,V=!m&&p?500:0,M=f+g+V,Y=d.size*50,K=c.y+c.height-1<P.top?500:0,A=c.x+c.width-1<P.left?50:0,L=c.x>P.right?50:0,Q=K+A+L,F=a.distanceX*D.x<0?D.x*2:0,q=a.distanceY*D.y<0?D.y*2:0,nt=F+q,J=1+M+Y+nt+Q;return{...a,score:J}}function un(t,e,n){switch(n){case"up":return G("OVERLAP",t,new z({x:t.x,y:e.y-t.height}));case"down":return G("OVERLAP",t,new z({x:t.x,y:e.y+e.height}));case"left":return G("OVERLAP",t,new z({x:e.x-t.width,y:t.y}));case"right":return G("OVERLAP",t,new z({x:e.x+e.width,y:t.y}))}}function $t(t,e){let n=null;for(let i=t.moves.length-1;i>=t.moveIndex;i--)if(t.moves[i].itemId===e){n=t.moves[i];break}return n}function hn(t){const e={x:0,y:0};for(let n=t.moveIndex;n<t.moves.length;n++){const i=t.moves[n];i.type==="OVERLAP"&&(e.x+=i.distanceX*i.height,e.y+=i.distanceY*i.width)}return e}function fn(t){const e=t.moves[0],n=t.moves[t.moveIndex];if(!e||!n||e.itemId!==n.itemId)throw new Error("Invariant violation: unexpected user move.");const i=Pt(n),o=ee(n);return{top:Math.min(i.top,o.top),right:Math.max(i.right,o.right),bottom:Math.max(i.bottom,o.bottom),left:Math.min(i.left,o.left)}}function mn(t,e,n){const{left:i,right:o,top:r,bottom:c}=Pt(e),s=e.distanceX<=0?e.x:o+1,a=e.distanceX<0?i-1:o+e.distanceX,l=e.distanceY<=0?e.y:c+1,d=e.distanceY<0?r-1:c+e.distanceY,h=new Set(t.grid.getOverlaps({id:e.itemId,x:s,width:1+a-s,y:l,height:1+d-l}));return h.delete(n),h}function gn(t,e){if(e.type!=="MOVE"||!St(t.direction,e.direction))return!1;const n=Pt(t),i=ee(e);switch(e.direction){case"up":return n.top===i.top;case"right":return n.right===i.right;case"down":return n.bottom===i.bottom;case"left":return n.left===i.left}}const vn=100,pn=5;function ft(t,e){const n=In(t.grid,t.conflicts,e),i=new Lt(t.grid,t.moves,n),o=[i,e],r=new Map,c=([d,h])=>`${h.itemId} ${h.x}:${h.y}:${d.score+h.score}`;let s=[o],a=null,l=vn;for(;s.length>0;){let d=[];for(let h=0;h<Math.min(pn,s.length);h++){const[u,m]=s[h];if(!(a&&u.score+m.score>=a.score))if(Ct(u,m),u.overlaps.size===0)a=u;else for(const I of cn(u)){const p=c(I);r.get(p)||(d.push(I),r.set(p,I))}}if(s=d.sort((h,u)=>h[0].score+h[1].score-(u[0].score+u[1].score)),d=[],l--,l<=0)break}return a||(a=i.conflicts?i:wn(i)),a.conflicts?a:yn(a,e)}function wn(t){for(;t.overlaps.size>0;){const e=te([...t.overlaps].map(([n])=>t.grid.getItem(n)));for(const n of e){let i=n.y+1;for(;t.grid.getOverlaps({...n,y:i}).length>0;)i++;Ct(t,G("OVERLAP",n,new z({x:n.x,y:i})))}}return t}function yn(t,e){const n=new Lt(t.grid,t.moves,t.conflicts);function i(){let o=!1;for(const r of n.grid.items){if(r.id===(e==null?void 0:e.itemId))continue;let c=r.y-1,s=null;for(;c>=0;){const a=G("FLOAT",r,new z({x:r.x,y:c}));if(n.grid.getOverlaps({id:r.id,...a}).length>0)break;c--,s=a}s&&(Ct(n,s),o=!0)}o&&i()}return i(),n}function In(t,e,n){var i;if(n.type!=="MOVE")return null;const o=(i=e==null?void 0:e.direction)!==null&&i!==void 0?i:n.direction,c=t.getOverlaps({...n,id:n.itemId}).filter(s=>{switch(o){case"left":return s.x<n.x;case"right":return s.x+s.width-1>n.x+n.width-1;case"up":return s.y<n.y;case"down":return s.y+s.height-1>n.y+n.height-1}});return c.length>0?{direction:o,items:new Set(c.map(s=>s.id))}:null}function Ct(t,e){_n(t,e),xn(t,e),t.moves.push(e),t.score+=e.score}function _n({grid:t},e){switch(e.type){case"MOVE":case"OVERLAP":case"FLOAT":return t.move(e.itemId,e.x,e.y);case"INSERT":return t.insert({id:e.itemId,...e});case"REMOVE":return t.remove(e.itemId);case"RESIZE":return t.resize(e.itemId,e.width,e.height)}}function xn(t,e){var n;for(const i of t.grid.getOverlaps({...e,id:e.itemId}))!((n=t.conflicts)===null||n===void 0)&&n.items.has(i.id)||t.overlaps.set(i.id,e.itemId);for(const[i,o]of t.overlaps)Et(t.grid.getItem(i),t.grid.getItem(o))||t.overlaps.delete(i)}class oe{constructor(e){this.layout=e,this.cache=new zt(new on(new wt(e.items,e.columns)))}move(e,n=this.cache){const i=this.validateMovePath({...e},n.state);for(let o=0;o<i.length;o++){const r=n.state.grid.getItem(e.itemId),c=G("MOVE",r,i[o]);n=n.matches(i[o],()=>ft(n.state,c))}return this.getLayoutShift(n.state)}resize(e){const n=this.validateResizePath(e,this.cache.state);let i=this.cache;for(let o=0;o<n.length;o++){const r=i.state.grid.getItem(e.itemId),c=n[o].x-r.x,s=n[o].y-r.y,a=G("RESIZE",r,new z({x:c,y:s}));i=i.matches(n[o],()=>ft(i.state,a))}return this.getLayoutShift(i.state)}insert({itemId:e,width:n,height:i,path:[o,...r]}){const c=G("INSERT",{id:e,x:o.x,y:o.y,width:n,height:i},o),s=this.cache.matches(o,()=>ft(this.cache.state,c));return this.move({itemId:e,path:r},s)}remove(e){const{x:n,y:i,width:o,height:r}=this.cache.state.grid.getItem(e),c=G("REMOVE",{id:e,x:n,y:i,width:o,height:r},new z({x:n,y:i})),s=ft(this.cache.state,c);return this.getLayoutShift(s)}getLayoutShift(e){return{current:this.layout,next:{items:te(e.grid.items),columns:e.grid.width,rows:e.grid.height},moves:e.moves,conflicts:e.conflicts?[...e.conflicts.items]:[]}}validateMovePath({itemId:e,path:n},i){const o=i.grid.getItem(e);for(const r of n)if(r.x<0||r.y<0||r.x+o.width>i.grid.width)throw new Error("Invalid move: outside grid.");return rn(new z({x:o.x,y:o.y}),n)}validateResizePath({itemId:e,path:n},i){const o=i.grid.getItem(e),r=o.x+o.width,c=o.y+o.height;for(const s of n){if(s.x<1||s.y<1)throw new Error("Invalid resize: can't resize to 0.");if(s.x>i.grid.width)throw new Error("Invalid resize: outside grid.")}return sn(new z({x:r,y:c}),n)}}function re(t,e){var n,i;const{operation:o,layoutShift:r,itemsLayout:c}=t,s=(n=c.items.find(p=>p.id===t.draggableItem.id))!==null&&n!==void 0?n:null;if(!r)return null;const a=r.moves[0],l=(i=a==null?void 0:a.itemId)!==null&&i!==void 0?i:s==null?void 0:s.id;if(!l)return null;const d=r.moves.filter(p=>p.itemId===l),h=d[d.length-1],u=h??s,m=new Set(r.conflicts),I=new Set(r.moves.map(p=>p.itemId));return I.delete(l),{type:"dnd-action",item:t.draggableItem,operation:o,placement:{x:u.x,y:u.y,width:u.width,height:u.height},direction:e,conflicts:m,disturbed:I}}function bn(t,e,n,i){if(!t)return"";const o=t.item,r=l=>e.find(d=>(d==null?void 0:d.id)===l),c=l=>l?l==="left"||l==="right"?"horizontal":"vertical":null;function s(l){const d=l.placement,h=c(l.direction),u=[...l.conflicts].map(r),m=[...l.disturbed].map(r);switch(l.operation){case"reorder":return n.liveAnnouncementDndItemReordered({item:o,placement:d,direction:h,conflicts:u,disturbed:m});case"resize":return n.liveAnnouncementDndItemResized({item:o,placement:d,direction:h,isMinimalColumnsReached:d.width===lt(o,i),isMinimalRowsReached:d.height===ct(o),conflicts:u,disturbed:m});case"insert":return n.liveAnnouncementDndItemInserted({item:o,placement:d,conflicts:u,disturbed:m})}}function a(l){return n.liveAnnouncementItemRemoved({item:o,disturbed:[...l.disturbed].map(r)})}switch(t.type){case"dnd-started":return n.liveAnnouncementDndStarted(t.operation);case"dnd-action":return s(t);case"dnd-committed":return n.liveAnnouncementDndCommitted(t.operation);case"dnd-discarded":return n.liveAnnouncementDndDiscarded(t.operation);case"item-removed":return a(t)}}function se(t,e){return t.map(i=>e.find(o=>o.id===i)).reduce((i,o)=>({top:Math.min(i.top,o.y),left:Math.min(i.left,o.x),bottom:Math.max(i.bottom,o.y+o.height),right:Math.max(i.right,o.x+o.width)}),{top:Number.POSITIVE_INFINITY,left:Number.POSITIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,right:Number.NEGATIVE_INFINITY})}function En(t,e,n,i){let o=-1;for(let r=0;r<t.length;r++)switch(e){case"left":{t[r].x===0&&(o=r);break}case"right":{t[r].x===n-1&&(o=r);break}case"up":{t[r].y===0&&(o=r);break}case"down":{t[r].y===i-1&&(o=r);break}}return t.slice(o)}function ae(t,e){return ce(t,new z({x:e.left,y:e.top}))}function le(t,e){return ce(t,new z({x:e.right,y:e.bottom}))}function ce(t,e){const n=[...t],i=t[t.length-1];if(!i)return[e];const o=Math.sign(e.x-i.x),r=Math.sign(e.y-i.y);let{x:c,y:s}=i,a=0;for(;c!==e.x||s!==e.y;){if(++a===100)throw new Error("Infinite loop in appendPath.");c!==e.x?c+=o:s+=r,n.push(new z({x:c,y:s}))}return n}function Rt(t){return t.itemsLayout.columns}function Ot(t){var e,n,i;const o=(n=(e=t.layoutShift)===null||e===void 0?void 0:e.next)!==null&&n!==void 0?n:t.itemsLayout,r=o.items.find(s=>s.id===t.draggableItem.id),c=(i=r==null?void 0:r.height)!==null&&i!==void 0?i:rt(t.draggableItem);return t.operation==="resize"?Math.max(o.rows,r?r.y+r.height+1:0):Math.max(o.rows,t.itemsLayout.rows+c)}function de(t){const e=Ot(t),n=Rt(t);return Qt(e,n)}function ue(t){return t.x<0?"right":t.x>0?"left":t.y<0?"down":t.y>0?"up":"right"}function kt(t,e,n){if(e.length===0)return null;const i=ot(t.draggableItem,Rt(t)),o=rt(t.draggableItem),r=Ot(t),c=Rt(t);switch(t.operation){case"resize":return t.layoutEngine.resize({itemId:t.draggableItem.id,path:e});case"reorder":return t.layoutEngine.move({itemId:t.draggableItem.id,path:e});case"insert":return t.layoutEngine.insert({itemId:t.draggableItem.id,width:i,height:o,path:En(e,n??"right",c,r)})}}function Sn({isRtl:t}){return v.useReducer(Dn({isRtl:t}),{transition:null,removeTransition:null,announcement:null})}function Rn(t){return t.transition?Ot(t.transition):0}function Dn({isRtl:t}){return function(n,i){switch(i.type){case"init":return Tn(i);case"init-remove":return An(i);case"submit":return Mn(n);case"discard":return zn(n);case"update-with-pointer":return Pn(n,i);case"update-with-keyboard":return Ln(n,i,{isRtl:t});case"acquire-item":return Cn(n,i)}}}function Tn({operation:t,interactionType:e,itemsLayout:n,draggableItem:i,draggableRect:o,collisionIds:r}){const c={operation:t,interactionType:e,itemsLayout:n,layoutEngine:new oe(n),insertionDirection:null,draggableItem:i,draggableRect:o,acquiredItem:null,collisionIds:new Set,layoutShift:null,path:[]},s=de(c),a=n.items.find(d=>d.id===i.id);let l=[];if(e==="pointer"||t==="insert"){const d=se(r,s.items);l=a?(t==="resize"?le:ae)([],d):[]}else a&&(l=t==="resize"?[new z({x:a.x+a.width,y:a.y+a.height})]:[new z({x:a.x,y:a.y})]);return{transition:{...c,path:l},removeTransition:null,announcement:a?{type:"dnd-started",item:i,operation:t}:null}}function An({items:t,removedItem:e,itemsLayout:n}){const i=new oe(n).remove(e.id);return{transition:null,removeTransition:{items:t,removedItem:e,layoutShift:i},announcement:null}}function Mn(t){var e;const{transition:n,removeTransition:i}=t;if(i){const l=new Set(i.layoutShift.moves.map(d=>d.itemId));return l.delete(i.removedItem.id),{transition:null,removeTransition:null,announcement:{type:"item-removed",item:i.removedItem,disturbed:l}}}if(!n)throw new Error("Invariant violation: no transition.");const{operation:o,itemsLayout:r,draggableItem:c,acquiredItem:s}=n,a=c.id===(s==null?void 0:s.id)||r.items.some(l=>l.id===c.id);return((e=n.layoutShift)===null||e===void 0?void 0:e.conflicts.length)===0?{transition:null,removeTransition:null,announcement:a?{type:"dnd-committed",item:c,operation:o}:null}:{transition:null,removeTransition:null,announcement:a?{type:"dnd-discarded",item:c,operation:o}:null}}function zn(t){const{transition:e,removeTransition:n}=t;if(n)throw new Error("Can't discard remove transition.");if(!e)throw new Error("Invariant violation: no transition.");const{operation:i,itemsLayout:o,draggableItem:r,acquiredItem:c}=e;return{transition:null,removeTransition:null,announcement:r.id===(c==null?void 0:c.id)||o.items.some(a=>a.id===r.id)?{type:"dnd-discarded",item:r,operation:i}:null}}function Pn(t,{collisionIds:e,positionOffset:n,draggableRect:i}){var o,r,c;const{transition:s}=t;if(!s)throw new Error("Invariant violation: no transition.");const a=(r=(o=s.layoutShift)===null||o===void 0?void 0:o.next)!==null&&r!==void 0?r:s.itemsLayout,l=a.items.find(V=>V.id===s.draggableItem.id),d=l?l.width:ot(s.draggableItem,a.columns),h=l?l.height:rt(s.draggableItem),u=d*h;if(s.operation!=="resize"?e.length<u:e.length===0)return{transition:{...s,draggableRect:i,collisionIds:new Set,layoutShift:null,insertionDirection:null},removeTransition:null,announcement:null};const I=de(s),p=se(e,I.items),D=(s.operation==="resize"?le:ae)(s.path,p),f=(c=s.insertionDirection)!==null&&c!==void 0?c:ue(n),g=kt(s,D,f);return{transition:{...s,draggableRect:i,collisionIds:new Set(e),layoutShift:g,path:D,insertionDirection:f},removeTransition:null,announcement:null}}function Ln(t,{direction:e},{isRtl:n}){const{transition:i}=t;if(!i)throw new Error("Invariant violation: no transition.");const o=(r,c)=>{var s,a;const l=c==="left"?-1:c==="right"?1:0,d=c==="up"?-1:c==="down"?1:0,h=r.path[r.path.length-1],u=new z({x:h.x+l,y:h.y+d}),m=[...r.path,u],p=((a=(s=r.layoutShift)===null||s===void 0?void 0:s.next)!==null&&a!==void 0?a:r.itemsLayout).items.find(f=>f.id===r.draggableItem.id),P=lt(r.draggableItem,r.itemsLayout.columns),D=ct(r.draggableItem);if(r.operation==="resize"&&p&&(p.width+l<P||p.height+d<D))return t;try{const f=kt(r,m),g={...r,layoutShift:f,path:m};return{transition:g,removeTransition:null,announcement:re(g,c)}}catch{return t}};switch(e){case"left":return o(i,n()?"right":"left");case"right":return o(i,n()?"left":"right");case"up":return o(i,"up");case"down":return o(i,"down")}}function Cn(t,{position:e,layoutElement:n,acquiredItemElement:i}){const{transition:o}=t;if(!o)throw new Error("Invariant violation: no transition.");const{columns:r}=o.itemsLayout,c=vt(n),s=o.draggableRect,a=s.left-c.insetInlineStart,l=new H({x:a,y:s.top-c.insetBlockStart}),d=ue(l),h=ot(o.draggableItem,r);e=new z({x:Math.min(r-h,e.x),y:e.y});const u=[...o.path,e],m=kt(o,u,d),I={...o.draggableItem,columnOffset:0,columnSpan:1,rowSpan:1},p={...o,collisionIds:new Set,layoutShift:m,path:u,acquiredItem:I,acquiredItemElement:i};return{transition:p,removeTransition:null,announcement:re(p,null)}}function On(t,e,n){const i={};for(const o of e){const r=t.items.find(c=>c.id===o.itemId);o.type==="REMOVE"?i[o.itemId]={type:"remove"}:r&&(i[r.id]={type:"move",x:n.getColOffset(o.x-r.x),y:n.getRowOffset(o.y-r.y),width:n.getWidth(o.width),height:n.getHeight(o.height)})}return i}class kn{constructor(e=null){this.detail=e,this.defaultPrevented=!1,this.cancelBubble=!1}preventDefault(){}stopPropagation(){}}function Nn(t){return new kn(t)}function xt(t,e){var n,i,o,r,c,s,a,l;const d=(i=(n=e.moves.find(p=>p.type==="INSERT"))===null||n===void 0?void 0:n.itemId)!==null&&i!==void 0?i:null,h=(r=(o=e.moves.find(p=>p.type==="MOVE"))===null||o===void 0?void 0:o.itemId)!==null&&r!==void 0?r:null,u=(s=(c=e.moves.find(p=>p.type==="REMOVE"))===null||c===void 0?void 0:c.itemId)!==null&&s!==void 0?s:null,m=(l=(a=e.moves.find(p=>p.type==="RESIZE"))===null||a===void 0?void 0:a.itemId)!==null&&l!==void 0?l:null,I=Je(t,e.next,m??d);return Nn({items:I,addedItem:I.find(p=>p.id===d),removedItem:t.find(p=>p.id===u),resizedItem:I.find(p=>p.id===m),movedItem:d?void 0:I.find(p=>p.id===h)})}function Hn({items:t,renderItem:e,onItemsChange:n,empty:i,i18nStrings:o,__internalRootRef:r,...c}){var s,a;const l=v.useRef(null),[d,h]=be(),u=Gt(l,h),m=v.useRef({}),I=()=>Wt(l.current);He();const p=en(),[P,D]=Sn({isRtl:I}),f=P.transition,g=P.removeTransition,V=P.announcement,M=(s=f==null?void 0:f.acquiredItem)!==null&&s!==void 0?s:null,Y=f==null?void 0:f.acquiredItemElement,K=f?f.itemsLayout.columns:d;t=(a=g==null?void 0:g.items)!==null&&a!==void 0?a:t,t=M?[...t,M]:t;const A=Qe(t,K),L=new Map(A.items.map(_=>[_.id,_])),Q=new Map(A.items.map((_,x)=>[_.id,x]));t=[...t].sort((_,x)=>{var S,T;return((S=Q.get(_.id))!==null&&S!==void 0?S:-1)-((T=Q.get(x.id))!==null&&T!==void 0?T:-1)});const F=v.useRef(null);v.useEffect(()=>{const _=F.current;_&&m.current[_].focusDragHandle(),F.current=null}),v.useEffect(()=>{if(!g)return;const _=setTimeout(()=>{var x;D({type:"submit"});const S=t.findIndex(O=>O.id===g.removedItem.id),T=S!==t.length-1?S:t.length-2,C=xt(t,g.layoutShift),E=(x=C.detail.items[T])===null||x===void 0?void 0:x.id;E&&m.current[E].focusDragHandle(),n(C)},Ht);return()=>clearTimeout(_)},[g,t,n]);const q=Nt(M==null?void 0:M.id),nt=Nt(Y);v.useEffect(()=>{var _;q&&nt&&!Y&&((_=m.current[q])===null||_===void 0||_.focusDragHandle())},[q,nt,Y]);const J=Rn(P)||A.rows,X=Qt(J,A.columns);function dt(_){const x=l.current,S=tt=>x===tt||x.contains(tt),T=I()?document.documentElement.clientWidth-_.left:_.left,C=I()?document.documentElement.clientWidth-_.right:_.right,{top:E,bottom:O}=_;return S(document.elementFromPoint(T,E))||S(document.elementFromPoint(C,E))||S(document.elementFromPoint(C,O))||S(document.elementFromPoint(T,O))}N("start",({operation:_,interactionType:x,draggableItem:S,collisionRect:T,collisionIds:C})=>{D({type:"init",operation:_,interactionType:x,itemsLayout:A,draggableItem:S,draggableRect:T,collisionIds:x==="pointer"&&dt(T)?C:[]}),p.addPointerEventHandlers()}),N("update",({interactionType:_,collisionIds:x,positionOffset:S,collisionRect:T})=>{D({type:"update-with-pointer",collisionIds:_==="pointer"&&dt(T)?x:[],positionOffset:S,draggableRect:T})}),N("submit",()=>{if(D({type:"submit"}),p.removePointerEventHandlers(),!f)throw new Error("Invariant violation: no transition.");if(!f.layoutShift||f.layoutShift.conflicts.length>0||f.layoutShift.moves.length===0)return null;f.operation==="insert"?n(xt([...t,f.draggableItem],f.layoutShift)):n(xt(t,f.layoutShift))}),N("discard",()=>{D({type:"discard"}),p.removePointerEventHandlers()}),N("acquire",({droppableId:_,draggableItem:x,renderAcquiredItem:S})=>{const T=X.items.find(C=>C.id===_);T&&(D({type:"acquire-item",position:new z({x:T.x,y:T.y}),layoutElement:l.current,acquiredItemElement:S()}),F.current=x.id)});const yt=_=>{D({type:"init-remove",items:t,itemsLayout:A,removedItem:_})};function It(_){f&&(D({type:"update-with-keyboard",direction:_}),p.scheduleActiveElementScrollIntoView(Ht))}const _t=V?bn(V,t,o,A.columns):"";return y.jsxs("div",{ref:r,...Mt(c),children:[y.jsx("div",{ref:u,className:B(pt.root,{[pt.empty]:J===0}),children:J>0?y.jsx(We,{isRtl:I,columns:A.columns,layout:[...X.items,...A.items],children:_=>{var x;const S=(x=f==null?void 0:f.layoutShift)!==null&&x!==void 0?x:g==null?void 0:g.layoutShift,T=S?On(A,S.moves,_):{};f&&f.interactionType==="pointer"&&delete T[f.draggableItem.id];const C=[];return X.items.forEach(E=>{var O;return C.push(y.jsx(nn,{id:E.id,state:f?!((O=f.collisionIds)===null||O===void 0)&&O.has(E.id)?"hover":"active":"default",gridContext:_,columns:A.columns},E.id))}),t.forEach(E=>{const O=L.get(E.id),tt=(f==null?void 0:f.operation)==="resize"&&(f==null?void 0:f.draggableItem.id)===E.id,w=O??{width:ot(E,A.columns),height:rt(E)},b=tt&&O?{width:A.columns-O.x,height:999}:w;C.push(y.jsx(Kt,{ref:R=>{R?m.current[E.id]=R:delete m.current[E.id]},item:E,transform:T[E.id],inTransition:!!f||!!g,placed:E.id!==(M==null?void 0:M.id),acquired:E.id===(M==null?void 0:M.id),getItemSize:()=>({width:_.getWidth(w.width),minWidth:_.getWidth(lt(E,A.columns)),maxWidth:_.getWidth(b.width),height:_.getHeight(w.height),minHeight:_.getHeight(ct(E)),maxHeight:_.getHeight(b.height)}),onKeyMove:It,isRtl:I,children:E.id===(M==null?void 0:M.id)&&Y?()=>Y:()=>e(E,{removeItem:()=>yt(E)})},E.id))}),C}}):i}),y.jsx(Zt,{children:_t})]})}function jn(t){const e=Tt("Board");return y.jsx(Hn,{...t,...e})}At(jn,"Board");const Bn={root:"awsui_root_rg5qe_im8v7_5"};function $n({items:t,renderItem:e,i18nStrings:n,__internalRootRef:i,...o}){const r=v.useRef(null),c=v.useRef({}),[s,a]=v.useState(),[l,d]=v.useState(""),h=()=>Wt(r.current);return N("start",({draggableItem:{id:u}})=>{a({id:u}),t.some(m=>m.id===u)?d(n.liveAnnouncementDndStarted):d("")}),N("update",({draggableItem:{id:u}})=>{a({id:u})}),N("submit",()=>{a(void 0),s&&t.some(u=>u.id===s.id)&&d(n.liveAnnouncementDndDiscarded)}),N("discard",()=>{a(void 0),t.some(u=>u.id===(s==null?void 0:s.id))&&d(n.liveAnnouncementDndDiscarded)}),N("acquire",({draggableItem:u})=>{t.some(m=>m.id===u.id)&&a(void 0)}),y.jsxs("div",{ref:i,...Mt(o),children:[y.jsx("div",{ref:r,className:Bn.root,children:y.jsx(ye,{size:"l",children:t.map(u=>y.jsx(Kt,{ref:m=>{m?c.current[u.id]=m:delete c.current[u.id]},item:u,placed:!1,acquired:!1,transform:void 0,inTransition:!1,getItemSize:m=>{if(!m)throw new Error("Invariant violation: cannot query palette item size with no drop context.");const{width:I,height:p}=m.scale(u);return{width:I,minWidth:I,maxWidth:I,height:p,minHeight:p,maxHeight:p}},isRtl:h,children:m=>e(u,{showPreview:m})},u.id))})}),y.jsx(Zt,{children:l})]})}function Vn(t){const e=Tt("ItemsPalette");return y.jsx($n,{...t,...e})}At(Vn,"ItemsPalette");const Yn={handle:"awsui_handle_cc1pu_v7z7o_5"};function Wn(t,e){function n(i){var o;i.button===0&&((o=t.onPointerDown)===null||o===void 0||o.call(t,i))}return y.jsx("button",{...t,onPointerDown:n,className:B(Yn.handle,t.className),ref:e})}const he=v.forwardRef(Wn);const Vt={handle:"awsui_handle_umbhe_1ftli_9",active:"awsui_active_umbhe_1ftli_17"};function Fn({ariaLabelledBy:t,ariaDescribedBy:e,onPointerDown:n,onKeyDown:i,isActive:o},r){return y.jsx(he,{ref:r,className:B(Vt.handle,o&&Vt.active),"aria-labelledby":t,"aria-describedby":e,onPointerDown:n,onKeyDown:i,children:y.jsx(qt,{name:"drag-indicator"})})}const qn=v.forwardRef(Fn);const Yt={handle:"awsui_handle_19hnz_imz5c_9",active:"awsui_active_19hnz_imz5c_16"};function Xn({ariaLabelledBy:t,ariaDescribedBy:e,onPointerDown:n,onKeyDown:i,isActive:o}){return y.jsx(he,{className:B(Yt.handle,o&&Yt.active),"aria-labelledby":t,"aria-describedby":e,onPointerDown:n,onKeyDown:i,children:y.jsx(qt,{name:"resize-area"})})}const $={root:"awsui_root_9ckv7_h5u0j_9","container-override":"awsui_container-override_9ckv7_h5u0j_14",active:"awsui_active_9ckv7_h5u0j_14",header:"awsui_header_9ckv7_h5u0j_36",flexible:"awsui_flexible_9ckv7_h5u0j_43",handle:"awsui_handle_9ckv7_h5u0j_47",refresh:"awsui_refresh_9ckv7_h5u0j_50","header-content":"awsui_header-content_9ckv7_h5u0j_54",settings:"awsui_settings_9ckv7_h5u0j_58",fixed:"awsui_fixed_9ckv7_h5u0j_66",resizer:"awsui_resizer_9ckv7_h5u0j_70"};function Gn({handle:t,children:e,settings:n}){return y.jsxs("div",{className:B($.header,$.refresh),children:[y.jsx("div",{className:B($.fixed,$.handle),children:t}),y.jsx("div",{className:B($.flexible,$["header-content"]),children:e}),n?y.jsx("div",{className:B($.fixed,$.settings),children:n}):null]})}function Un({children:t,header:e,settings:n,disableContentPaddings:i,footer:o,i18nStrings:r,__internalRootRef:c,...s}){const{dragHandle:a,resizeHandle:l,isActive:d}=Ge(),h=v.useId(),u=v.useId(),m=v.useId(),I=v.useId();return y.jsxs("div",{ref:c,className:$.root,...Mt(s),children:[y.jsx(Ie,{fitHeight:!0,disableHeaderPaddings:!0,header:y.jsx(Gn,{handle:y.jsx(qn,{ref:a.ref,ariaLabelledBy:h,ariaDescribedBy:u,onPointerDown:a.onPointerDown,onKeyDown:a.onKeyDown,isActive:a.isActive}),settings:n,children:e}),footer:o,disableContentPaddings:i,className:B($["container-override"],d&&$.active),children:t}),l&&y.jsx("div",{className:$.resizer,children:y.jsx(Xn,{ariaLabelledBy:m,ariaDescribedBy:I,onPointerDown:l.onPointerDown,onKeyDown:l.onKeyDown,isActive:l.isActive})}),y.jsx(st,{id:h,children:r.dragHandleAriaLabel}),y.jsx(st,{id:u,children:r.dragHandleAriaDescription}),y.jsx(st,{id:m,children:r.resizeHandleAriaLabel}),y.jsx(st,{id:I,children:r.resizeHandleAriaDescription})]})}function Kn(t){const e=Tt("BoardItem",{props:{disableContentPaddings:t.disableContentPaddings}});return y.jsx(Un,{...t,...e})}At(Kn,"BoardItem");const ai={navigation:"Side navigation",navigationToggle:"Open side navigation",navigationClose:"Close side navigation",notifications:"Notifications",tools:"Help panel",toolsToggle:"Open help panel",toolsClose:"Close help panel"},li={preferencesTitle:"Split panel preferences",preferencesPositionLabel:"Split panel position",preferencesPositionDescription:"Choose the default split panel position for the service.",preferencesPositionSide:"Side",preferencesPositionBottom:"Bottom",preferencesConfirm:"Confirm",preferencesCancel:"Cancel",closeButtonAriaLabel:"Close panel",openButtonAriaLabel:"Open panel",resizeHandleAriaLabel:"Resize split panel"},ci={appLayout:{header:"Service Dashboard",reloadButton:"Reload",addWidgetButton:"Add widget",addWidgetsHeader:"Add widgets"},widgetsBoard:{widgetsEmpty:"No widgets",widgetsLoading:"Loading board widgets",removeWidgetAction:"Remove widget",widgetSettings:"Widget settings"},widgetsPalette:{widgetsEmpty:"No widgets",widgetsLoading:"Loading palette widgets"},deleteConfirmation:{header:"Delete confirmation",confirm:"Yes",discard:"No",message:t=>`Remove ${t}?`}},di={dragHandleAriaLabel:"Drag handle",dragHandleAriaDescription:"Use Space or Enter to activate drag, arrow keys to move, Space or Enter to submit, or Escape to discard.",resizeHandleAriaLabel:"Resize handle",resizeHandleAriaDescription:"Use Space or Enter to activate resize, arrow keys to move, Space or Enter to submit, or Escape to discard."},ui={liveAnnouncementDndStarted:"Dragging",liveAnnouncementDndDiscarded:"Insertion discarded",navigationAriaLabel:"Items palette navigation",navigationAriaDescription:"Click on an item to move focus over",navigationItemAriaLabel:t=>t.data.title};function mt(t,e,n){const i=e.length>0?`Conflicts with ${e.map(r=>r.data.title).join(", ")}.`:"",o=n.length>0?`Disturbed ${n.length} items.`:"";return[t,i,o].filter(Boolean).join(" ")}const hi={liveAnnouncementDndStarted(t){return t==="resize"?"Resizing":"Dragging"},liveAnnouncementDndItemReordered(t){const e=`column ${t.placement.x+1}`,n=`row ${t.placement.y+1}`;return mt(`Item moved to ${t.direction==="horizontal"?e:n}.`,t.conflicts,t.disturbed)},liveAnnouncementDndItemResized(t){const e=t.isMinimalColumnsReached?" (minimal)":"",n=t.isMinimalRowsReached?" (minimal)":"",i=t.direction==="horizontal"?`columns ${t.placement.width}${e}`:`rows ${t.placement.height}${n}`;return mt(`Item resized to ${i}.`,t.conflicts,t.disturbed)},liveAnnouncementDndItemInserted(t){const e=`column ${t.placement.x+1}`,n=`row ${t.placement.y+1}`;return mt(`Item inserted to ${e}, ${n}.`,t.conflicts,t.disturbed)},liveAnnouncementDndCommitted(t){return`${t} committed`},liveAnnouncementDndDiscarded(t){return`${t} discarded`},liveAnnouncementItemRemoved(t){return mt(`Removed item ${t.item.data.title}.`,[],t.disturbed)},navigationAriaLabel:"Board navigation",navigationAriaDescription:"Click on non-empty item to move focus over",navigationItemAriaLabel:t=>t?t.data.title:"Empty"};export{jn as B,Vn as I,Kn as a,hi as b,di as c,ci as d,ai as e,ui as i,li as s};
