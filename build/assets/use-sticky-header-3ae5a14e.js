import{r as n,R as H}from"./index-2c36b58a.js";import{f as P}from"./find-up-until-61244faf.js";import{s as k}from"./tokens-4068cfaf.js";import{u as L}from"./index-1b07c59a.js";import{g as T}from"./global-vars-d161e56c.js";import{g as $}from"./scrollable-containers-435d5d18.js";const v=n.createContext({isInContainer:!1}),W=({children:e})=>H.createElement(v.Provider,{value:{isInContainer:!0}},e),A=()=>{const{isInContainer:e}=n.useContext(v);return e};function h({isMobile:e,__stickyOffset:t,__mobileStickyOffset:r,hasInnerOverflowParents:i,__additionalOffset:l}){const s=e?(t??0)-(r??0):t??0;return i||t!==void 0?`${s}px`:`calc(${`var(${T.stickyVerticalTopOffset}, 0px)`} + ${s}px + ${l?k:"0px"})`}const F=n.createContext({isStuck:!1}),O=(e,t,r,i,l,s,p=!1)=>{const m=L(),a=!(m&&s)&&!!r,[C,w]=n.useState(!1),[S,f]=n.useState(!1);n.useLayoutEffect(()=>{if(e.current){const c=$(e.current),u=P(e.current,d=>d.tagName==="MAIN");w(c.length>0&&c[0]!==u)}},[e]);const g=h({isMobile:m,__stickyOffset:i,__mobileStickyOffset:l,hasInnerOverflowParents:C,__additionalOffset:p}),x=a?{style:{top:g}}:{},o=n.useCallback(({isTrusted:c,target:u,type:d})=>{if(!(d==="resize"&&u===window&&!c)&&e.current&&t.current){const E=parseFloat(getComputedStyle(e.current).borderTopWidth)||0,I=e.current.getBoundingClientRect().top+E,b=t.current.getBoundingClientRect().top;I<b?f(!0):f(!1)}},[e,t]);return n.useEffect(()=>{if(a)return window.addEventListener("scroll",o,!0),window.addEventListener("resize",o),()=>{window.removeEventListener("scroll",o,!0),window.removeEventListener("resize",o)}},[a,o]),{isSticky:a,isStuck:S,stickyStyles:x}};export{W as C,F as S,A as a,O as u};
