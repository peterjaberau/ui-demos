import{_ as c,g as x,b as C,d as I}from"./index-eb73e870.js";import{R as t,r as T}from"./index-2c36b58a.js";import{a as h,b}from"./analytics-funnel-6bd8970e.js";import{e as E,u as g,a as N}from"./use-funnel-f65631cb.js";import{B as A}from"./internal-1d1af924.js";import{a as u,I as B}from"./internal-ab6fe424.js";import{h as P}from"./styles.css-db2cfaaa.js";const w=n=>{var{variant:r="full-page",actions:o,errorText:e}=n,i=c(n,["variant","actions","errorText"]);const{funnelIdentifier:s,funnelInteractionId:a,funnelProps:p,funnelSubmit:m,funnelNextOrSubmitAttempt:d,errorCount:l,submissionAttempt:f,funnelErrorContext:v}=g(),{funnelStepProps:y}=N(),F=({variant:S})=>{S==="primary"&&(d(),m())};return T.useEffect(()=>{if(a&&e)return l.current++,()=>{l.current--}},[a,s,e,f,l,v]),t.createElement(A.Provider,{value:{onClick:F}},t.createElement(B,Object.assign({variant:r,actions:o,errorText:e},i,p,y,{__injectAnalyticsComponentMetadata:!0})))};function R(n){var{variant:r="full-page"}=n,o=c(n,["variant"]);const e=x(o),i=C("Form",{props:{variant:r,flowType:e==null?void 0:e.flowType},metadata:{hasResourceType:!!(e!=null&&e.resourceType),hasInstanceIdentifier:!!(e!=null&&e.instanceIdentifier)}},e),a=E()||`.${u.header} .${P["heading-text"]}`;return t.createElement(h,{funnelIdentifier:e==null?void 0:e.instanceIdentifier,funnelFlowType:e==null?void 0:e.flowType,funnelErrorContext:e==null?void 0:e.errorContext,funnelResourceType:e==null?void 0:e.resourceType,funnelType:"single-page",optionalStepNumbers:[],totalFunnelSteps:1,funnelNameSelectors:[a,`.${u.header}`]},t.createElement(b,{stepIdentifier:e==null?void 0:e.instanceIdentifier,stepErrorContext:e==null?void 0:e.errorContext,stepNumber:1},t.createElement(w,Object.assign({variant:r},o,i))))}I(R,"Form");export{R as F};
