import{_ as g,e as C,c as E,b as R,d as S}from"./index-eb73e870.js";import{r as y,R as t}from"./index-2c36b58a.js";import{g as h}from"./external-props-f3440ca2.js";import{c as B}from"./internal-1d1af924.js";import{I as j}from"./internal-337363c2.js";import{S as I}from"./internal-616d830c.js";const p={root:"awsui_root_5a145_jw759_9","inline-container":"awsui_inline-container_5a145_jw759_13","inline-container-trigger":"awsui_inline-container-trigger_5a145_jw759_16"};const d={root:"awsui_root_ljpwc_1spew_5","text-to-copy":"awsui_text-to-copy_ljpwc_1spew_9"};function N(e){var{variant:o="button",copyButtonAriaLabel:r,copyButtonText:n,copySuccessText:c,copyErrorText:a,textToCopy:l,popoverRenderWithPortal:x,__internalRootRef:b=null}=e,f=g(e,["variant","copyButtonAriaLabel","copyButtonText","copySuccessText","copyErrorText","textToCopy","popoverRenderWithPortal","__internalRootRef"]);const[v,s]=y.useState("pending"),[T,i]=y.useState(""),m=C(f),w=()=>{if(!navigator.clipboard){s("error"),i(a);return}s("pending"),i(""),navigator.clipboard.writeText(l).then(()=>{s("success"),i(c)}).catch(()=>{s("error"),i(a)})},P={button:"normal",icon:"icon",inline:"inline-icon"}[o],u=o==="inline",_=t.createElement(j,{isInline:u,size:"medium",position:"top",triggerType:"custom",dismissButton:!1,renderWithPortal:x,content:t.createElement(I,{type:v},T),__onOpen:w},t.createElement(B,{ariaLabel:r??n,iconName:"copy",variant:P,wrapText:!1,formAction:"none"},n));return t.createElement("span",Object.assign({},m,{ref:b,className:E(m.className,p.root,d.root)}),u?t.createElement("span",{className:p["inline-container"]},t.createElement("span",{className:p["inline-container-trigger"]},_),t.createElement("span",{className:d["text-to-copy"]},l)):_)}function W(e){var{variant:o="button",popoverRenderWithPortal:r=!1}=e,n=g(e,["variant","popoverRenderWithPortal"]);const c=R("CopyToClipboard",{props:{variant:o}}),a=h(n);return t.createElement(N,Object.assign({variant:o,popoverRenderWithPortal:r},c,a))}S(W,"CopyToClipboard");export{W as C};
