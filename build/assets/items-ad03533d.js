import{r as C,j as n}from"./index-2c36b58a.js";import{B as m}from"./index-9085be47.js";import{L as j}from"./index-04a17b45.js";import{S as h}from"./index-75e01ea4.js";import{B as w}from"./index-84731336.js";import{F as D}from"./index-6090633a.js";import{u as L}from"./use-container-query-60e26c9e.js";import{c as S}from"./engine.module-c43ca84f.js";import{S as T}from"./index-3af9db76.js";import{T as F}from"./index-6770e832.js";import{P as O}from"./index-7f67b6db.js";import{B as W}from"./index-2c58c43b.js";function E(t){var o;const e=[],i=new Set;for(let s=0;s<t.length;s++)for(let a=0;a<t[s].length;a++){const r=t[s][a].split("/").map(l=>l.trim());for(const l of r)if(l.trim().length!==0&&!i.has(l)){const c={id:l,y:s,x:a,width:1,height:1};for(let d=a+1;d<t[s].length&&t[s][d]===l;d++)a++,c.width++;for(let d=s+1;d<t.length&&t[d][a]===l;d++)c.height++;e.push(c),i.add(l)}}return{items:e,columns:((o=t[0])==null?void 0:o.length)??0,rows:t.length}}function P(){const[t,e]=C.useState(0);return n.jsx(D,{label:"Enter your phone number",children:n.jsxs(h,{size:"xs",direction:"horizontal",children:[n.jsx(w,{iconSvg:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",children:n.jsx("line",{x1:"15",y1:"8",x2:"1",y2:"8"})}),onClick:()=>e(t-1)}),n.jsxs(m,{fontSize:"body-m",padding:{vertical:"xxs"},children:["+",t]}),n.jsx(w,{iconName:"add-plus",onClick:()=>e(t+1)})]})})}function p({children:t}){return n.jsx("div",{children:t})}function I({children:t}){return n.jsx("div",{className:S["demo-item-with-border"],style:{height:"100%",width:"100%"},children:t})}function B({children:t,height:e,width:i}){return n.jsx("div",{className:S["demo-item-with-border"],style:{height:e,width:i},children:t})}function f({children:t,height:e,width:i,showBorder:o=!0}){return n.jsx("div",{className:o?S["demo-item-with-border"]:void 0,style:{height:"100%",width:"100%",overflow:"auto"},children:n.jsx("div",{style:{height:"100%",width:"100%",minHeight:e,minWidth:i},children:t})})}function u({children:t,minWidth:e=0,minHeight:i=0}){const[o,s]=L(d=>({height:d.contentBoxHeight,width:d.contentBoxWidth})),a=Math.max((o==null?void 0:o.width)??0,e),r=Math.max((o==null?void 0:o.height)??0,i),l=((o==null?void 0:o.width)??0)<e||((o==null?void 0:o.height)??0)<i,c=t({width:a,height:r});return n.jsx("div",{ref:s,style:{height:"100%",width:"100%"},children:l?n.jsx(f,{width:e,height:i,children:c}):c})}function M({left:t,right:e}){return n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:24,height:"100%"},children:[n.jsx("div",{children:t}),n.jsx("div",{children:e})]})}function A(){const t=[{id:"name",header:"Event name",cell:i=>i.name,minWidth:135,width:140},{id:"status",header:"Event status",cell:({statusText:i,status:o})=>n.jsx(T,{type:o,children:i}),minWidth:120,width:130},{id:"id",header:"Event ID",cell:i=>n.jsx(j,{href:"#",children:i.id}),minWidth:165,width:170},{id:"type",header:"Event type",cell:i=>i.type,minWidth:130,width:135}],e=[{name:"my-instance-1",id:"i-b4b5f3b29ac6f0e",type:"instance-stop",statusText:"Scheduled",status:"pending"},{name:"my-instance-2",id:"i-f0eb5f329ab4bc6",type:"instance-stop",statusText:"Scheduled",status:"pending"},{name:"my-instance-3",id:"i-29ab4bebc6f05f3",type:"instance-stop",statusText:"Ongoing",status:"success"},{name:"my-instance-4",id:"i-329ab4bc6f0eb5f",type:"instance-stop",statusText:"Ongoing",status:"success"},{name:"my-instance-5",id:"i-b4beb29a5f3c6f0",type:"instance-stop",statusText:"Ongoing",status:"success"},{name:"my-instance-6",id:"i-f0eb5f329ab4bc6",type:"instance-stop",statusText:"Ongoing",status:"success"},{name:"my-instance-7",id:"i-9ab4bc6f0eb5f32",type:"instance-stop",statusText:"Ongoing",status:"success"}];return n.jsx(F,{variant:"embedded",resizableColumns:!0,items:e,columnDefinitions:t})}function y({size:t}){return n.jsx(O,{size:t,hideFilter:!0,hideLegend:!1,data:[{title:"Running",value:60,lastUpdate:"Dec 7, 2020"},{title:"Failed",value:30,lastUpdate:"Dec 6, 2020"},{title:"In-progress",value:10,lastUpdate:"Dec 6, 2020"},{title:"Pending",value:0,lastUpdate:"Dec 7, 2020"}],detailPopoverContent:(e,i)=>[{key:"Resource count",value:e.value},{key:"Percentage",value:`${(e.value/i*100).toFixed(0)}%`},{key:"Last update on",value:e.lastUpdate}],segmentDescription:(e,i)=>`${e.value} units, ${(e.value/i*100).toFixed(0)}%`,i18nStrings:{detailsValue:"Value",detailsPercentage:"Percentage",filterLabel:"Filter displayed data",filterPlaceholder:"Filter data",filterSelectedAriaLabel:"selected",detailPopoverDismissAriaLabel:"Dismiss",legendAriaLabel:"Legend",chartAriaRoleDescription:"pie chart",segmentAriaRoleDescription:"segment"},ariaDescription:"Pie chart showing how many resources are currently in which state.",ariaLabel:"Pie chart",errorText:"Error loading data.",loadingText:"Loading chart",recoveryText:"Retry",empty:"Empty",noMatch:"No match"})}function b({height:t}){return n.jsx(W,{height:t,hideFilter:!0,hideLegend:!1,series:[{title:"Site 1",type:"bar",data:[{x:new Date(16010712e5),y:34503},{x:new Date(16010784e5),y:25832},{x:new Date(16010856e5),y:4012},{x:new Date(16010928e5),y:-5602},{x:new Date(16011e8),y:17839}],valueFormatter:e=>"$"+e.toLocaleString("en-US")},{title:"Average revenue",type:"threshold",y:19104,valueFormatter:e=>"$"+e.toLocaleString("en-US")}],xDomain:[new Date(16010712e5),new Date(16010784e5),new Date(16010856e5),new Date(16010928e5),new Date(16011e8)],yDomain:[-1e4,4e4],i18nStrings:{filterLabel:"Filter displayed data",filterPlaceholder:"Filter data",filterSelectedAriaLabel:"selected",detailPopoverDismissAriaLabel:"Dismiss",legendAriaLabel:"Legend",chartAriaRoleDescription:"bar chart",xTickFormatter:e=>e.toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!1}).split(",").join(`
`),yTickFormatter(e){return Math.abs(e)>=1e9?(e/1e9).toFixed(1).replace(/\.0$/,"")+"G":Math.abs(e)>=1e6?(e/1e6).toFixed(1).replace(/\.0$/,"")+"M":Math.abs(e)>=1e3?(e/1e3).toFixed(1).replace(/\.0$/,"")+"K":e.toFixed(2)}},ariaLabel:"Single data series bar chart",errorText:"Error loading data.",loadingText:"Loading chart",recoveryText:"Retry",xScaleType:"categorical",xTitle:"Time (UTC)",yTitle:"Revenue (USD)",empty:"Empty",noMatch:"No match"})}const g=t=>({title:`Widget ${t}`,description:"Dummy description",content:n.jsx(p,{children:"Dummy content"})}),U=t=>({title:`Widget ${t}`,description:"Dummy description",content:n.jsx(p,{children:n.jsx("input",{"data-testid":"input-field"})})}),x={D:{definition:{defaultColumnSpan:2,defaultRowSpan:4,minRowSpan:4},data:{title:"Demo widget",description:"Most minimal widget",content:n.jsx(p,{children:"My minimal row span is 4."})}},counter:{definition:{defaultRowSpan:2,defaultColumnSpan:2},data:{title:"Counter",description:"State management demo",content:n.jsx(p,{children:n.jsx(P,{})})}},responsive:{data:{title:"Responsive content",description:"Responsive content",content:n.jsx(I,{children:"Responsive content"})}},large:{data:{title:"Large content",description:"Large content",content:n.jsx(B,{width:600,height:400,children:"Large content"})}},scrollable:{data:{title:"Scrollable content",description:"Scrollable content",content:n.jsx(f,{width:600,height:400,children:"Scrollable content"})}},revenue:{definition:{defaultRowSpan:2,minRowSpan:2},data:{title:"Revenue",description:"Revenue over time chart",content:n.jsx(u,{minWidth:400,minHeight:300,children:({height:t=0})=>n.jsx(b,{height:t-200})})}},resourceCount:{definition:{defaultRowSpan:2,minRowSpan:2},data:{title:"Resource count",description:"Resource count pie chart",content:n.jsx(u,{minHeight:300,children:({width:t=0,height:e=0})=>{let i="small";return t>300&&e>300&&(i="medium"),t>450&&e>450&&(i="large"),n.jsx(y,{size:i})}})}},allMetrics:{definition:{defaultColumnSpan:2,defaultRowSpan:2,minColumnSpan:2,minRowSpan:2},data:{title:"All metrics",description:"Revenue and resource count charts",content:n.jsx(u,{minWidth:600,minHeight:300,children:()=>n.jsx(M,{left:n.jsx(u,{minHeight:200,children:({height:t=0})=>n.jsxs(h,{size:"xs",children:[n.jsx(m,{fontSize:"heading-s",fontWeight:"bold",children:"Revenue"}),n.jsx(b,{height:t-200})]})}),right:n.jsx(u,{children:({width:t=0,height:e=0})=>{let i="small";return t>300&&e>300&&(i="medium"),t>450&&e>500&&(i="large"),n.jsxs(h,{size:"s",children:[n.jsx(m,{fontSize:"heading-s",fontWeight:"bold",children:"Resources"}),n.jsx(y,{size:i})]})}})})})}},events:{definition:{defaultColumnSpan:2,defaultRowSpan:1,minColumnSpan:2,minRowSpan:1},data:{title:"Events",description:"Service events table",content:n.jsx(f,{height:300,showBorder:!1,children:n.jsx(A,{})}),footer:n.jsx(m,{textAlign:"center",children:n.jsx(j,{href:"#",children:"View all events"})})}}};for(let t=2;t<=10;t++)x[t]={data:t===5?U(t.toString()):g(t.toString())};const R=[{id:"D",columnOffset:{4:0},rowSpan:1,columnSpan:1},{id:"2",columnOffset:{4:1},rowSpan:1,columnSpan:2},{id:"3",columnOffset:{4:3},rowSpan:1,columnSpan:1},{id:"4",columnOffset:{4:0},rowSpan:1,columnSpan:1},{id:"5",columnOffset:{4:1},rowSpan:1,columnSpan:1},{id:"6",columnOffset:{4:2},rowSpan:1,columnSpan:1},{id:"7",columnOffset:{4:0},rowSpan:1,columnSpan:1},{id:"8",columnOffset:{4:1},rowSpan:1,columnSpan:1},{id:"9",columnOffset:{4:2},rowSpan:1,columnSpan:1},{id:"10",columnOffset:{4:0},rowSpan:1,columnSpan:1}],q=R.map(t=>{const e=x[t.id];return{...t,data:(e==null?void 0:e.data)??g(t.id),definition:e==null?void 0:e.definition}}),_=Object.entries(x).filter(([t])=>!R.find(e=>e.id===t)).map(([t,e])=>({id:t,definition:e==null?void 0:e.definition,data:(e==null?void 0:e.data)??g(t)})),v=[..."ABCDEFGHIJKLMNOPQRSTUVWXYZ"].reduce((t,e)=>{const i={R:{defaultRowSpan:1,defaultColumnSpan:2,minRowSpan:1,minColumnSpan:2},S:{defaultRowSpan:1,defaultColumnSpan:2,minRowSpan:1,minColumnSpan:2},T:{defaultRowSpan:1,defaultColumnSpan:2,minRowSpan:1,minColumnSpan:2},U:{defaultRowSpan:4,defaultColumnSpan:1,minRowSpan:4,minColumnSpan:1},V:{defaultRowSpan:4,defaultColumnSpan:1,minRowSpan:4,minColumnSpan:1},W:{defaultRowSpan:4,defaultColumnSpan:1,minRowSpan:4,minColumnSpan:1},X:{defaultRowSpan:4,defaultColumnSpan:2,minRowSpan:4,minColumnSpan:2},Y:{defaultRowSpan:4,defaultColumnSpan:2,minRowSpan:4,minColumnSpan:2},Z:{defaultRowSpan:4,defaultColumnSpan:2,minRowSpan:4,minColumnSpan:2}};return t[e]={id:e,definition:i[e],data:{title:`Widget ${e}`,description:"Empty widget",content:""}},t},{});function ee(t,e){if(!t)return null;const i=$(E(t),Object.values(v)),o=new Set(i.map(a=>a.id)),s=Object.values(v).filter(a=>!o.has(a.id)&&(!e||e.includes(a.id)));return{boardItems:i,paletteItems:s}}function $(t,e){const i=new Map(e.map(a=>[a.id,a])),o=a=>{const r=i.get(a);if(!r)throw new Error("Invariant violation: no matching source item found.");return r};return t.items.slice().sort((a,r)=>a.y!==r.y?a.y>r.y?1:-1:a.x>r.x?1:-1).map(({id:a,x:r,width:l,height:c})=>({...o(a),columnOffset:{4:r,6:r},columnSpan:l,rowSpan:c}))}export{_ as a,x as b,ee as c,q as d,v as l};
