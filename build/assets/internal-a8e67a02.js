import{_ as k,e as D,c as d}from"./index-eb73e870.js";import{R as a,r as s}from"./index-2c36b58a.js";import"./ResizeObserver-6fd345a6.js";import{c as P}from"./internal-1d1af924.js";import{S as M}from"./index-d8010092.js";import{u as V}from"./single-tab-stop-navigation-context-cd355dd7.js";import{b as $}from"./index-491afaa4.js";import{u as z}from"./index-e97f25e5.js";import{u as G}from"./index-33af1cce.js";import{u as x}from"./index-5c04613c.js";import{u as H}from"./form-field-context-fcff921e.js";import{j as J}from"./join-strings-170e7968.js";const n={root:"awsui_root_1wp4s_4b9xd_185","file-input":"awsui_file-input_1wp4s_4b9xd_186",hidden:"awsui_hidden_1wp4s_4b9xd_190","file-input-button":"awsui_file-input-button_1wp4s_4b9xd_196","force-focus-outline-icon":"awsui_force-focus-outline-icon_1wp4s_4b9xd_196","force-focus-outline-button":"awsui_force-focus-outline-button_1wp4s_4b9xd_217"},K=a.forwardRef((f,g)=>{var l,{accept:C,ariaRequired:h,ariaLabel:p,multiple:F=!1,value:b,onChange:N,variant:i="button",children:u,__internalRootRef:y=null,__inputClassName:E,__inputNativeAttributes:S}=f,_=k(f,["accept","ariaRequired","ariaLabel","multiple","value","onChange","variant","children","__internalRootRef","__inputClassName","__inputNativeAttributes"]);const m=D(_),t=s.useRef(null),v=s.useRef(null),A=G(y,v),I=x("upload-button-label"),r=H(_),B=x("upload-input"),j=(l=r.controlId)!==null&&l!==void 0?l:B;z(g,t);const[w,R]=s.useState(!1),U=()=>{var e;return(e=t.current)===null||e===void 0?void 0:e.click()},q=()=>{var e,o;R(!0),(o=(e=v.current)===null||e===void 0?void 0:e.scrollIntoView)===null||o===void 0||o.call(e)},L=()=>R(!1),O=({target:e})=>{$(N,{value:e.files?Array.from(e.files):[]})},c=Object.assign({"aria-label":p||u,"aria-labelledby":J(r.ariaLabelledby,I),"aria-describedby":r.ariaDescribedby},S);r.invalid&&(c["aria-invalid"]=!0),h&&(c["aria-required"]=!0),s.useEffect(()=>{if(window.DataTransfer){const e=new DataTransfer;for(const o of b)e.items.add(o);t.current.files=e.files}t.current&&(t.current.value="")},[b]);const{tabIndex:T}=V(t);return a.createElement("div",Object.assign({},m,{ref:A,className:d(m.className,n.root)}),a.createElement("input",Object.assign({id:j,ref:t,type:"file",hidden:!1,multiple:F,accept:C,onChange:O,onFocus:q,onBlur:L,className:d(n["file-input"],n.hidden,E),tabIndex:T},c)),a.createElement(P,{iconName:"upload",variant:i==="icon"?"icon":void 0,formAction:"none",onClick:U,className:d(n["file-input-button"],{[n["force-focus-outline-button"]]:w&&i==="button",[n["force-focus-outline-icon"]]:w&&i==="icon"}),__nativeAttributes:{tabIndex:-1,"aria-hidden":!0}},i==="button"&&u),a.createElement(M,{id:I},p||u))}),se=K;export{se as I,n as f};
