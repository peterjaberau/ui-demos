import{R as o,r as w}from"./index-2c36b58a.js";import{c as ue,_ as ce,e as Me}from"./index-eb73e870.js";import{I as qe}from"./internal-4584f44c.js";import{I as je}from"./internal-d962d170.js";import{S as Se}from"./internal-616d830c.js";import{b as Fe}from"./index-491afaa4.js";import{u as Ne}from"./index-8f886a48.js";import{g as Ae}from"./attributes-9cbf7bc1.js";import{o as Te}from"./index-7771e8e2.js";const xe={root:"awsui_root_vrgzu_1n5go_145",recovery:"awsui_recovery_vrgzu_1n5go_180"};function Be({children:e}){return o.createElement("div",{className:xe.root},e)}const mt=({statusType:e,empty:t,loadingText:r,finishedText:n,filteringResultsText:a,errorText:i,recoveryText:s,isEmpty:u,isNoMatch:l,isFiltered:c,noMatch:p,onRecoveryClick:d,hasRecoveryCallback:h=!1,errorIconAriaLabel:b})=>{const S=Ne(e),m={isSticky:!0,content:null,hasRecoveryButton:!1};return e==="loading"?m.content=o.createElement(Se,{type:"loading"},r):e==="error"?(m.hasRecoveryButton=!!s&&h,m.content=o.createElement("span",null,o.createElement(Se,{type:"error",__display:"inline",__animate:S!=="error",iconAriaLabel:b},i)," ",m.hasRecoveryButton&&o.createElement(je,{onFollow:()=>Fe(d),variant:"recovery",className:xe.recovery},s))):u&&t?m.content=t:l&&p?m.content=p:c&&a?m.content=a:e==="finished"&&n&&(m.content=n,m.isSticky=!1),m};const oe={root:"awsui_root_1afi9_1jjir_145",hidden:"awsui_hidden_1afi9_1jjir_176","no-items":"awsui_no-items_1afi9_1jjir_179"},Pe=({content:e,id:t,hasItems:r=!0})=>o.createElement("div",{className:ue(oe.root,{[oe.hidden]:e===null,[oe["no-items"]]:!r})},o.createElement(qe,{id:t},e&&o.createElement(Be,null,e))),ht=Pe;const W={parent:"awsui_parent_2dmmi_qu62t_5","option-content":"awsui_option-content_2dmmi_qu62t_6"},Ke=e=>{var{isChild:t,value:r}=e,n=ce(e,["isChild","value"]);const a=n,i={action:"select",detail:{label:{selector:[`.${Te.label}`,`.${W["option-content"]}`]}}};let s;return t&&a["data-group-index"]&&a["data-in-group-index"]||a["data-child-index"]?s=`${a["data-group-index"]},${a["data-in-group-index"]||a["data-child-index"]}`:a["data-test-index"]&&(s=`${a["data-test-index"]}`),s&&(i.detail.position=s),r&&(i.detail.value=r),t&&(i.detail.groupLabel={root:"body",selector:`.${W.parent}[data-group-index="${a["data-group-index"]}"] .${W["option-content"]}`}),i};const y={"selectable-item":"awsui_selectable-item_15o6u_ieaqn_145","pad-bottom":"awsui_pad-bottom_15o6u_ieaqn_167","has-background":"awsui_has-background_15o6u_ieaqn_174",highlighted:"awsui_highlighted_15o6u_ieaqn_177",selected:"awsui_selected_15o6u_ieaqn_177",disabled:"awsui_disabled_15o6u_ieaqn_195","next-item-selected":"awsui_next-item-selected_15o6u_ieaqn_205","is-keyboard":"awsui_is-keyboard_15o6u_ieaqn_217",parent:"awsui_parent_15o6u_ieaqn_221",interactiveGroups:"awsui_interactiveGroups_15o6u_ieaqn_225",child:"awsui_child_15o6u_ieaqn_241",virtual:"awsui_virtual_15o6u_ieaqn_256","measure-strut":"awsui_measure-strut_15o6u_ieaqn_267","measure-strut-first":"awsui_measure-strut-first_15o6u_ieaqn_276","screenreader-content":"awsui_screenreader-content_15o6u_ieaqn_280","option-content":"awsui_option-content_15o6u_ieaqn_286"},We=(e,t)=>{var{children:r,ariaSelected:n,ariaChecked:a,selected:i,highlighted:s,disabled:u,hasBackground:l,isParent:c,isChild:p,virtualPosition:d,padBottom:h,isNextSelected:b,useInteractiveGroups:S,screenReaderContent:m,ariaPosinset:D,ariaSetsize:T,highlightType:G,value:L}=e,M=ce(e,["children","ariaSelected","ariaChecked","selected","highlighted","disabled","hasBackground","isParent","isChild","virtualPosition","padBottom","isNextSelected","useInteractiveGroups","screenReaderContent","ariaPosinset","ariaSetsize","highlightType","value"]);const B=Me(M),{className:H}=B,V=ce(B,["className"]),U=ue(H,y["selectable-item"],{[y.selected]:i,[y.highlighted]:s,[y["has-background"]]:l,[y.parent]:c,[W.parent]:c,[y.child]:p,[y["is-keyboard"]]:G==="keyboard",[y.disabled]:u,[y.virtual]:d!==void 0,[y["pad-bottom"]]:h,[y["next-item-selected"]]:b,[y.interactiveGroups]:S}),N=w.useRef(null),I=w.useRef(null);w.useLayoutEffect(()=>{s&&m&&(N.current&&N.current.setAttribute("aria-hidden","true"),I.current&&(I.current.textContent=m))},[s,m,N,I]);const R=d!==void 0?{transform:`translateY(${d}px)`}:void 0,E={"aria-disabled":u};return c&&!S&&(E["aria-hidden"]=!0),n!==void 0&&(E["aria-selected"]=n),a!==void 0&&(E["aria-checked"]=a),D&&T&&(E["aria-posinset"]=D,E["aria-setsize"]=T),M.ariaDescribedby&&(E["aria-describedby"]=M.ariaDescribedby),o.createElement("li",Object.assign({role:"option",className:U,style:R},E,V,c||u?{}:Ae(Ke(Object.assign({isChild:p,value:L},M)))),o.createElement("div",{className:ue(y["option-content"],W["option-content"]),ref:N},r),o.createElement("div",{className:y["measure-strut"],ref:t}),o.createElement("div",{className:y["screenreader-content"],ref:I}))},gt=o.forwardRef(We),Q=new WeakMap,pt=e=>Q.get(e),_t=(e,t)=>{let r=1,n=0,a=1,i=null;e.forEach(s=>{const u=s.type==="parent",l=u?s:t(s);l&&l!==i&&(i=l,n+=1,a=1),u?Q.set(s,{groupIndex:n}):l&&s.type==="child"?Q.set(s,{throughIndex:r++,groupIndex:n,inGroupIndex:a++}):(s.type==="child"||!s.type)&&Q.set(s,{throughIndex:r++})})};function F(){return F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F.apply(this,arguments)}function De(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}var Ge=["bottom","height","left","right","top","width"],Le=function(t,r){return t===void 0&&(t={}),r===void 0&&(r={}),Ge.some(function(n){return t[n]!==r[n]})},C=new Map,we,He=function e(){var t=[];C.forEach(function(r,n){var a=n.getBoundingClientRect();Le(a,r.rect)&&(r.rect=a,t.push(r))}),t.forEach(function(r){r.callbacks.forEach(function(n){return n(r.rect)})}),we=window.requestAnimationFrame(e)};function Ve(e,t){return{observe:function(){var n=C.size===0;C.has(e)?C.get(e).callbacks.push(t):C.set(e,{rect:void 0,hasRectChanged:!1,callbacks:[t]}),n&&He()},unobserve:function(){var n=C.get(e);if(n){var a=n.callbacks.indexOf(t);a>=0&&n.callbacks.splice(a,1),n.callbacks.length||C.delete(e),C.size||cancelAnimationFrame(we)}}}}var Z=typeof window<"u"?o.useLayoutEffect:o.useEffect;function Ue(e,t){t===void 0&&(t={width:0,height:0});var r=o.useState(e.current),n=r[0],a=r[1],i=o.useReducer(Xe,t),s=i[0],u=i[1],l=o.useRef(!1);return Z(function(){e.current!==n&&a(e.current)}),Z(function(){if(n&&!l.current){l.current=!0;var c=n.getBoundingClientRect();u({rect:c})}},[n]),o.useEffect(function(){if(n){var c=Ve(n,function(p){u({rect:p})});return c.observe(),function(){c.unobserve()}}},[n]),s}function Xe(e,t){var r=t.rect;return e.height!==r.height||e.width!==r.width?r:e}var Ye=function(){return 50},Je=function(t){return t},Qe=function(t,r){var n=r?"offsetWidth":"offsetHeight";return t[n]},Ze=function(t){for(var r=Math.max(t.start-t.overscan,0),n=Math.min(t.end+t.overscan,t.size-1),a=[],i=r;i<=n;i++)a.push(i);return a};function et(e){var t,r=e.size,n=r===void 0?0:r,a=e.estimateSize,i=a===void 0?Ye:a,s=e.overscan,u=s===void 0?1:s,l=e.paddingStart,c=l===void 0?0:l,p=e.paddingEnd,d=p===void 0?0:p,h=e.parentRef,b=e.horizontal,S=e.scrollToFn,m=e.useObserver,D=e.initialRect,T=e.onScrollElement,G=e.scrollOffsetFn,L=e.keyExtractor,M=L===void 0?Je:L,B=e.measureSize,H=B===void 0?Qe:B,V=e.rangeExtractor,U=V===void 0?Ze:V,N=b?"width":"height",I=b?"scrollLeft":"scrollTop",R=o.useRef({scrollOffset:0,measurements:[]}),E=o.useState(0),Re=E[0],le=E[1];R.current.scrollOffset=Re;var Ee=m||Ue,ze=Ee(h,D),ke=ze[N];R.current.outerSize=ke;var P=o.useCallback(function(f){h.current&&(h.current[I]=f)},[h,I]),de=S||P;S=o.useCallback(function(f){de(f,P)},[P,de]);var fe=o.useState({}),ve=fe[0],ee=fe[1],Ie=o.useCallback(function(){return ee({})},[]),X=o.useRef([]),A=o.useMemo(function(){var f=X.current.length>0?Math.min.apply(Math,X.current):0;X.current=[];for(var _=R.current.measurements.slice(0,f),v=f;v<n;v++){var x=M(v),g=ve[x],$=_[v-1]?_[v-1].end:c,z=typeof g=="number"?g:i(v),k=$+z;_[v]={index:v,start:$,size:z,end:k,key:x}}return _},[i,ve,c,n,M]),me=(((t=A[n-1])==null?void 0:t.end)||c)+d;R.current.measurements=A,R.current.totalSize=me;var K=T?T.current:h.current,te=o.useRef(G);te.current=G,Z(function(){if(!K){le(0);return}var f=function(v){var x=te.current?te.current(v):K[I];le(x)};return f(),K.addEventListener("scroll",f,{capture:!1,passive:!0}),function(){K.removeEventListener("scroll",f)}},[K,I]);var he=rt(R.current),ge=he.start,pe=he.end,re=o.useMemo(function(){return U({start:ge,end:pe,overscan:u,size:A.length})},[ge,pe,u,A.length,U]),_e=o.useRef(H);_e.current=H;var $e=o.useMemo(function(){for(var f=[],_=function($,z){var k=re[$],Y=A[k],q=F(F({},Y),{},{measureRef:function(J){if(J){var se=_e.current(J,b);if(se!==q.size){var ye=R.current.scrollOffset;q.start<ye&&P(ye+(se-q.size)),X.current.push(k),ee(function(Ce){var ie;return F(F({},Ce),{},(ie={},ie[q.key]=se,ie))})}}}});f.push(q)},v=0,x=re.length;v<x;v++)_(v);return f},[re,P,b,A]),be=o.useRef(!1);Z(function(){be.current&&ee({}),be.current=!0},[i]);var ne=o.useCallback(function(f,_){var v=_===void 0?{}:_,x=v.align,g=x===void 0?"start":x,$=R.current,z=$.scrollOffset,k=$.outerSize;g==="auto"&&(f<=z?g="start":f>=z+k?g="end":g="start"),g==="start"?S(f):g==="end"?S(f-k):g==="center"&&S(f-k/2)},[S]),ae=o.useCallback(function(f,_){var v=_===void 0?{}:_,x=v.align,g=x===void 0?"auto":x,$=De(v,["align"]),z=R.current,k=z.measurements,Y=z.scrollOffset,q=z.outerSize,O=k[Math.max(0,Math.min(f,n-1))];if(O){if(g==="auto")if(O.end>=Y+q)g="end";else if(O.start<=Y)g="start";else return;var J=g==="center"?O.start+O.size/2:g==="end"?O.end:O.start;ne(J,F({align:g},$))}},[ne,n]),Oe=o.useCallback(function(){for(var f=arguments.length,_=new Array(f),v=0;v<f;v++)_[v]=arguments[v];ae.apply(void 0,_),requestAnimationFrame(function(){ae.apply(void 0,_)})},[ae]);return{virtualItems:$e,totalSize:me,scrollToOffset:ne,scrollToIndex:Oe,measure:Ie}}var tt=function(t,r,n,a){for(;t<=r;){var i=(t+r)/2|0,s=n(i);if(s<a)t=i+1;else if(s>a)r=i-1;else return i}return t>0?t-1:0};function rt(e){for(var t=e.measurements,r=e.outerSize,n=e.scrollOffset,a=t.length-1,i=function(c){return t[c].start},s=tt(0,a,i,n),u=s;u<a&&t[u].end<n+r;)u++;return{start:s,end:u}}const nt=100;function bt({items:e,parentRef:t,estimateSize:r}){const n=et({size:e.length,parentRef:t,estimateSize:r,overscan:5}),a=w.useRef(new WeakMap),i=n.virtualItems.map(u=>`${u.index}`).join(":");return w.useEffect(()=>{a.current=new WeakMap},[i,e,r]),{virtualItems:w.useMemo(()=>n.virtualItems.map(u=>Object.assign(Object.assign({},u),{measureRef:l=>{var c;const p=(c=a.current.get(e[u.index]))!==null&&c!==void 0?c:0;p<nt&&(u.measureRef(l),a.current.set(e[u.index],p+1))}})),[e,n.virtualItems]),totalSize:n.totalSize,scrollToIndex:n.scrollToIndex}}function at(e,t){return[t&&t.label,e.__labelPrefix,e.label||e.value,e.description,e.labelTag].concat(e.tags).filter(r=>!!r).join(" ")}function yt({announceSelected:e,highlightedOption:t,getParent:r,selectedAriaLabel:n,renderHighlightedAriaLive:a}){const i=w.useRef(void 0);if(w.useEffect(()=>{if(t){const d=requestAnimationFrame(()=>{i.current=r(t)});return()=>cancelAnimationFrame(d)}}),!t)return"";const s=t.option,u=r(t),l=u&&u!==i.current?u:void 0;if(a)return a(s,l);const c=e&&n?n:"",p=at(s,l);return[c,p].filter(Boolean).join(" ")}class j{constructor(t,r=t==="keyboard"){this.type=t,this.moveFocus=r}}function St({options:e,isHighlightable:t}){const[r,n]=w.useState(-1),[a,i]=w.useState(new j("keyboard")),s=w.useCallback((d,h)=>{n(d),i(b=>b.type!==h.type?h:b)},[]),u=e[r]&&t(e[r])?e[r]:void 0,l=(d,h=r,b)=>{let m=h===-1&&d===-1?e.length:h;do m+=d;while(e[m]&&!t(e[m]));e[m]&&s(m,b)},c=(d,h)=>l(d,r,h),p=w.useCallback((d,h)=>{const b=e.indexOf(d);s(b,h)},[e,s]);return[{highlightType:a,highlightedIndex:r,highlightedOption:u},{setHighlightedIndexWithMouse:(d,h=!1)=>s(d,new j("mouse",h)),moveHighlightWithKeyboard:d=>c(d,new j("keyboard")),highlightOptionWithKeyboard:d=>p(d,new j("keyboard")),resetHighlightWithKeyboard:()=>s(-1,new j("keyboard")),goHomeWithKeyboard:()=>l(1,-1,new j("keyboard")),goEndWithKeyboard:()=>l(-1,e.length,new j("keyboard"))}]}export{ht as D,gt as S,yt as a,bt as b,_t as c,St as d,pt as g,mt as u};
