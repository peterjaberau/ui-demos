import{_ as te,b as se,e as re,c as h,d as le}from"./index-eb73e870.js";import{R as e,r as y}from"./index-2c36b58a.js";import{u as ne}from"./use-container-query-60e26c9e.js";import{I as oe}from"./internal-9b98a633.js";import{u as de}from"./context-d1fbdd85.js";import{A as ce}from"./analytics-funnel-6bd8970e.js";import{C as _e}from"./collection-label-context-b15b8042.js";import{L as ge}from"./link-default-variant-context-309e3cd5.js";import{u as ue}from"./index-33af1cce.js";import{u as me}from"./index-1b07c59a.js";import{j as pe,i as we,T as fe,u as he,f as k,k as ve,S as be,e as je}from"./tools-header-d64e9275.js";import{I as V}from"./internal-4584f44c.js";import{S as Ce}from"./internal-616d830c.js";const ye=[1920,1400,1200,992,768],Ee=ye.map((n,r,l)=>({minWidth:n,cards:l.length+1-r})),Ie=(n,r)=>{r.length===0&&(r=Ee);let l=1;return r.slice().map(s=>({minWidth:s.minWidth||0,cards:s.cards})).sort((s,c)=>c.minWidth-s.minWidth).some(s=>{if(n>=s.minWidth)return l=s.cards,!0}),l};const a={"card-inner":"awsui_card-inner_p8a6i_g1lwj_161",root:"awsui_root_p8a6i_g1lwj_193","header-variant-full-page":"awsui_header-variant-full-page_p8a6i_g1lwj_232","header-refresh":"awsui_header-refresh_p8a6i_g1lwj_232",list:"awsui_list_p8a6i_g1lwj_239","list-grid-1":"awsui_list-grid-1_p8a6i_g1lwj_250",card:"awsui_card_p8a6i_g1lwj_161","list-grid-2":"awsui_list-grid-2_p8a6i_g1lwj_253","list-grid-3":"awsui_list-grid-3_p8a6i_g1lwj_256","list-grid-4":"awsui_list-grid-4_p8a6i_g1lwj_259","list-grid-5":"awsui_list-grid-5_p8a6i_g1lwj_262","list-grid-6":"awsui_list-grid-6_p8a6i_g1lwj_265","list-grid-7":"awsui_list-grid-7_p8a6i_g1lwj_268","list-grid-8":"awsui_list-grid-8_p8a6i_g1lwj_271","list-grid-9":"awsui_list-grid-9_p8a6i_g1lwj_274","list-grid-10":"awsui_list-grid-10_p8a6i_g1lwj_277","list-grid-11":"awsui_list-grid-11_p8a6i_g1lwj_280","list-grid-12":"awsui_list-grid-12_p8a6i_g1lwj_283","list-grid-13":"awsui_list-grid-13_p8a6i_g1lwj_286","list-grid-14":"awsui_list-grid-14_p8a6i_g1lwj_289","list-grid-15":"awsui_list-grid-15_p8a6i_g1lwj_292","list-grid-16":"awsui_list-grid-16_p8a6i_g1lwj_295","list-grid-17":"awsui_list-grid-17_p8a6i_g1lwj_298","list-grid-18":"awsui_list-grid-18_p8a6i_g1lwj_301","list-grid-19":"awsui_list-grid-19_p8a6i_g1lwj_304","list-grid-20":"awsui_list-grid-20_p8a6i_g1lwj_307","selection-control":"awsui_selection-control_p8a6i_g1lwj_311",loading:"awsui_loading_p8a6i_g1lwj_321",empty:"awsui_empty_p8a6i_g1lwj_322","has-header":"awsui_has-header_p8a6i_g1lwj_329",refresh:"awsui_refresh_p8a6i_g1lwj_332","card-header":"awsui_card-header_p8a6i_g1lwj_403","card-header-inner":"awsui_card-header-inner_p8a6i_g1lwj_411","card-selectable":"awsui_card-selectable_p8a6i_g1lwj_415","card-selected":"awsui_card-selected_p8a6i_g1lwj_418",section:"awsui_section_p8a6i_g1lwj_426","section-header":"awsui_section-header_p8a6i_g1lwj_434","section-content":"awsui_section-content_p8a6i_g1lwj_440","footer-pagination":"awsui_footer-pagination_p8a6i_g1lwj_450"},A=e.forwardRef(function(n,r){var{items:l=[],cardDefinition:v,cardsPerRow:s=[],header:c,filter:d,pagination:_,preferences:E,empty:I,loading:L,loadingText:S,trackBy:g,selectedItems:N,selectionType:b,isItemDisabled:T,onSelectionChange:m,ariaLabels:t,visibleSections:j,stickyHeader:i,stickyHeaderVerticalOffset:D,variant:u="container",renderAriaLive:o,firstIndex:p=1,totalItemsCount:H,entireCardClickable:R}=n,$=te(n,["items","cardDefinition","cardsPerRow","header","filter","pagination","preferences","empty","loading","loadingText","trackBy","selectedItems","selectionType","isItemDisabled","onSelectionChange","ariaLabels","visibleSections","stickyHeader","stickyHeaderVerticalOffset","variant","renderAriaLive","firstIndex","totalItemsCount","entireCardClickable"]);const{__internalRootRef:G}=se("Cards",{props:{entireCardClickable:R,selectionType:b,stickyHeader:i,variant:u},metadata:{usesVisibleSections:!!j}}),F=re($),P=me(),w=u,x=y.useRef(void 0),U=y.useCallback(f=>{x.current=f},[]),q=!(t!=null&&t.cardsLabel)&&!!c,[K,Q]=ne(({contentBoxWidth:f})=>Ie(f,s),[s]),O=y.useRef(null),z=ue(Q,O,G),J=pe(),X=de("cards"),{isItemSelected:Y,getItemSelectionProps:Z}=we({items:l,trackBy:g,selectedItems:N,selectionType:b,isItemDisabled:T,onSelectionChange:m,ariaLabels:{itemSelectionLabel:t==null?void 0:t.itemSelectionLabel,selectionGroupLabel:X("ariaLabels.selectionGroupLabel",t==null?void 0:t.selectionGroupLabel)}}),M=c||d||_||E,ee=P&&u==="full-page"&&!!_,W=y.useRef(null),{scrollToTop:B,scrollToItem:ae}=je(O,W);i=!P&&i;const ie=f=>{i&&!f.currentTarget.contains(J())&&ae(f.currentTarget)};y.useImperativeHandle(r,()=>({scrollToTop:()=>{i&&B()}}),[i,B]);let C;return L?C=e.createElement("div",{className:a.loading},e.createElement(Ce,{type:"loading"},e.createElement(V,{tagName:"span"},S))):I&&!l.length&&(C=e.createElement("div",{className:a.empty},I)),e.createElement(ge.Provider,{value:{defaultVariant:"primary"}},e.createElement(ce,null,e.createElement("div",Object.assign({},F,{className:h(F.className,a.root),ref:z}),e.createElement(oe,{header:M&&e.createElement("div",{className:h(a.header,a["header-refresh"],a[`header-variant-${w}`])},e.createElement(_e.Provider,{value:{assignId:U}},e.createElement(fe,{header:c,filter:d,pagination:_,preferences:E}))),footer:ee&&e.createElement("div",{className:a["footer-pagination"]},_),disableContentPaddings:!0,disableHeaderPaddings:w==="full-page",variant:w==="container"?"cards":w,__stickyHeader:i,__stickyOffset:D,__headerRef:W,__fullPage:w==="full-page",__disableFooterDivider:!0},e.createElement("div",{className:h(M&&a["has-header"],a.refresh,a[`header-variant-${w}`])},!!o&&!!p&&e.createElement(V,{hidden:!0,tagName:"span"},e.createElement("span",null,o({totalItemsCount:H,firstIndex:p,lastIndex:p+l.length-1}))),C??e.createElement(Re,{items:l,cardDefinition:v,trackBy:g,selectionType:b,columns:K,isItemSelected:Y,getItemSelectionProps:Z,visibleSections:j,onFocus:ie,ariaLabel:t==null?void 0:t.cardsLabel,ariaLabelledby:q&&x.current?x.current:void 0,entireCardClickable:R}))))))}),Be=A,Re=({items:n,cardDefinition:r,trackBy:l,selectionType:v,columns:s,isItemSelected:c,getItemSelectionProps:d,visibleSections:_,onFocus:E,ariaLabelledby:I,ariaLabel:L,entireCardClickable:S})=>{const g=!!v,N=g&&S,{moveFocusDown:b,moveFocusUp:T}=he(v,n.length);let m=r.sections||[];m=_?m.filter(i=>i.id&&_.indexOf(i.id)!==-1):m;let t,j;return g&&(t="group",j="presentation"),e.createElement("ol",Object.assign({className:h(a.list,a[`list-grid-${s||1}`]),role:t,"aria-labelledby":I,"aria-label":L},k&&k.root),n.map((i,D)=>e.createElement("li",Object.assign({className:h(a.card,{[a["card-selectable"]]:g,[a["card-selected"]]:g&&c(i)}),key:ve(l,i,D),onFocus:E},k&&k.item,{role:j}),e.createElement("div",{className:h(a["card-inner"],a.refresh),onClick:N?u=>{var o;d==null||d(i).onChange(),(o=u.currentTarget.querySelector("input"))===null||o===void 0||o.focus()}:void 0},e.createElement("div",{className:a["card-header"]},e.createElement("div",{className:a["card-header-inner"]},r.header?r.header(i):""),d&&e.createElement("div",{className:a["selection-control"]},e.createElement(be,Object.assign({onFocusDown:b,onFocusUp:T},d(i))))),m.map(({width:u=100,header:o,content:p,id:H},R)=>e.createElement("div",{key:H||R,className:a.section,style:{width:`${u}%`}},o?e.createElement("div",{className:a["section-header"]},o):"",p?e.createElement("div",{className:a["section-content"]},p(i)):""))))))};le(A,"Cards");export{Be as C};
