import{_ as d}from"./index-eb73e870.js";import{R as f,r}from"./index-2c36b58a.js";import{u as m}from"./feature-flags-b64d770b.js";import{a as n}from"./api-335682e8.js";const p=n.sharedReactContexts.createContext(f,"BreadcrumbsSlotContext");function v(e){var a,{__disableGlobalization:s}=e,o=d(e,["__disableGlobalization"]);const{isInToolbar:c}=(a=r.useContext(p))!==null&&a!==void 0?a:{},i=r.useRef(),[l,b]=r.useState(!1);return r.useEffect(()=>{if(c||s)return;const t=n.breadcrumbs.registerBreadcrumbs(o,u=>b(u??!0));return i.current=t,()=>{t.cleanup()}},[c,s]),r.useLayoutEffect(()=>{var t;(t=i.current)===null||t===void 0||t.update(o)}),l}function S(e){return m()?v(e):!1}function g(e){const[a,s]=r.useState(null);return r.useEffect(()=>{if(e)return n.breadcrumbs.registerAppLayout(o=>{s(o)})},[e]),a}export{p as B,S as a,g as u};
